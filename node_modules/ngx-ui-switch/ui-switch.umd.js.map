{"version":3,"file":"ui-switch.umd.js","sources":["../../src/lib/ui-switch/ui-switch.token.ts","../../src/lib/ui-switch/ui-switch.component.ts","../../src/lib/ui-switch/ui-switch.module.ts"],"names":["InjectionToken","NG_VALUE_ACCESSOR","forwardRef","EventEmitter","Component","Inject","Optional","ChangeDetectorRef","Input","Output","HostListener","NgModule","CommonModule","FormsModule"],"mappings":"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","sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport const UI_SWITCH_OPTIONS = new InjectionToken('UI_SWITCH_OPTIONS');\n","import {\n  ChangeDetectorRef,\n  Component,\n  Input,\n  Output,\n  EventEmitter,\n  HostListener,\n  forwardRef,\n  Inject,\n  Optional,\n  OnDestroy,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\nimport { UI_SWITCH_OPTIONS } from './ui-switch.token';\nimport { UiSwitchModuleConfig } from './ui-switch.config';\nimport { Observable, Subscription } from 'rxjs';\n\nconst UI_SWITCH_CONTROL_VALUE_ACCESSOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  /* tslint:disable-next-line: no-use-before-declare */\n  useExisting: forwardRef(() => UiSwitchComponent),\n  multi: true,\n};\n\n@Component({\n  selector: 'ui-switch',\n  templateUrl: 'ui-switch.component.html',\n  providers: [UI_SWITCH_CONTROL_VALUE_ACCESSOR],\n})\nexport class UiSwitchComponent implements ControlValueAccessor, OnDestroy {\n  private _checked: boolean;\n  private _disabled: boolean;\n  private _reverse: boolean;\n  private _loading: boolean;\n  private _beforeChange: Subscription;\n\n  @Input() size;\n  @Input() color;\n  @Input() switchOffColor;\n  @Input() switchColor;\n  @Input() defaultBgColor;\n  @Input() defaultBoColor;\n  @Input() checkedLabel;\n  @Input() uncheckedLabel;\n  @Input() checkedTextColor;\n  @Input() uncheckedTextColor;\n  @Input() beforeChange: Observable<boolean>;\n\n  @Input()\n  set checked(v: boolean) {\n    this._checked = v !== false;\n  }\n\n  get checked() {\n    return this._checked;\n  }\n\n  @Input()\n  set disabled(v: boolean) {\n    this._disabled = v !== false;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  @Input()\n  set reverse(v: boolean) {\n    this._reverse = v !== false;\n  }\n\n  get reverse() {\n    return this._reverse;\n  }\n\n  @Input()\n  set loading(v: boolean) {\n    this._loading = v !== false;\n  }\n\n  get loading() {\n    return this._loading;\n  }\n\n  /**\n   * Emits changed value\n   */\n  @Output() change = new EventEmitter<boolean>();\n\n  /**\n   * Emits DOM event\n   */\n  @Output() changeEvent = new EventEmitter<MouseEvent>();\n\n  /**\n   * Emits changed value\n   */\n  @Output() valueChange = new EventEmitter<boolean>();\n\n  constructor(\n    @Inject(UI_SWITCH_OPTIONS) @Optional() config: UiSwitchModuleConfig = {},\n    private cdr: ChangeDetectorRef\n  ) {\n    this.size = (config && config.size) || 'medium';\n    this.color = config && config.color;\n    this.switchOffColor = config && config.switchOffColor;\n    this.switchColor = config && config.switchColor;\n    this.defaultBgColor = config && config.defaultBgColor;\n    this.defaultBoColor = config && config.defaultBoColor;\n    this.checkedLabel = config && config.checkedLabel;\n    this.uncheckedLabel = config && config.uncheckedLabel;\n    this.checkedTextColor = config && config.checkedTextColor;\n    this.uncheckedTextColor = config && config.uncheckedTextColor;\n  }\n\n  getColor(flag = '') {\n    if (flag === 'borderColor') {\n      return this.defaultBoColor;\n    }\n    if (flag === 'switchColor') {\n      if (this.reverse) {\n        return !this.checked ? this.switchColor : this.switchOffColor || this.switchColor;\n      }\n      return this.checked ? this.switchColor : this.switchOffColor || this.switchColor;\n    }\n    if (flag === 'checkedTextColor') {\n      return this.reverse ? this.uncheckedTextColor : this.checkedTextColor;\n    }\n    if (flag === 'uncheckedTextColor') {\n      return this.reverse ? this.checkedTextColor : this.uncheckedTextColor;\n    }\n    if (this.reverse) {\n      return !this.checked ? this.color : this.defaultBgColor;\n    }\n    return this.checked ? this.color : this.defaultBgColor;\n  }\n\n  onClick(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n    this.checked = !this.checked;\n\n    // Component events\n    this.change.emit(this.checked);\n    this.valueChange.emit(this.checked);\n    this.changeEvent.emit(event);\n\n    // value accessor callbacks\n    this.onChangeCallback(this.checked);\n    this.onTouchedCallback(this.checked);\n    this.cdr.markForCheck();\n  }\n\n  @HostListener('click', ['$event'])\n  onToggle(event: MouseEvent) {\n    if (this.disabled) {\n      return;\n    }\n    if (this.beforeChange) {\n      this._beforeChange = this.beforeChange.subscribe((confirm: boolean) => {\n        if (confirm) {\n          this.onClick(event);\n        }\n      });\n    } else {\n      this.onClick(event);\n    }\n  }\n\n  writeValue(obj: any): void {\n    if (obj !== this.checked) {\n      this.checked = !!obj;\n    }\n\n    this.onChangeCallback(this.checked);\n    if (this.cdr) {\n      this.cdr.markForCheck();\n    }\n  }\n\n  registerOnChange(fn: any) {\n    this.onChangeCallback = fn;\n  }\n\n  registerOnTouched(fn: any) {\n    this.onTouchedCallback = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n\n  private onTouchedCallback = (v: any) => {};\n  private onChangeCallback = (v: any) => {};\n\n  ngOnDestroy() {\n    if (this._beforeChange) {\n      this._beforeChange.unsubscribe();\n    }\n  }\n}\n","import { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { UiSwitchComponent } from './ui-switch.component';\nimport { UI_SWITCH_OPTIONS } from './ui-switch.token';\nimport { UiSwitchModuleConfig } from './ui-switch.config';\n\n@NgModule({\n  declarations: [UiSwitchComponent],\n  imports: [CommonModule, FormsModule],\n  exports: [FormsModule, UiSwitchComponent],\n})\nexport class UiSwitchModule {\n  static forRoot(\n    config: UiSwitchModuleConfig | null | undefined\n  ): ModuleWithProviders<UiSwitchModule> {\n    return {\n      ngModule: UiSwitchModule,\n      providers: [{ provide: UI_SWITCH_OPTIONS, useValue: config || {} }],\n    };\n  }\n}\n"]}