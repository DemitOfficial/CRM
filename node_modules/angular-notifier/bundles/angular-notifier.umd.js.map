{"version":3,"file":"angular-notifier.umd.js","sources":["../../../projects/angular-notifier/src/lib/models/notifier-notification.model.ts","../../../projects/angular-notifier/src/lib/models/notifier-config.model.ts","../../../projects/angular-notifier/src/lib/notifier.tokens.ts","../../../projects/angular-notifier/src/lib/services/notifier-queue.service.ts","../../../projects/angular-notifier/src/lib/services/notifier.service.ts","../../../projects/angular-notifier/src/lib/components/notifier-container.component.ts","../../../projects/angular-notifier/src/lib/animation-presets/fade.animation-preset.ts","../../../projects/angular-notifier/src/lib/animation-presets/slide.animation-preset.ts","../../../projects/angular-notifier/src/lib/services/notifier-animation.service.ts","../../../projects/angular-notifier/src/lib/services/notifier-timer.service.ts","../../../projects/angular-notifier/src/lib/components/notifier-notification.component.ts","../../../projects/angular-notifier/src/lib/notifier.module.ts","../../../projects/angular-notifier/src/angular-notifier.ts"],"names":["InjectionToken","Subject","Injectable","Inject","Component","ChangeDetectionStrategy","ChangeDetectorRef","EventEmitter","ElementRef","Renderer2","Input","Output","NgModule","CommonModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIA;AACA;AAEC;AAAO;AAEA;AAAQ,IAAhB;AAEc;AAAY;AAAuB;AAAW;AACxD;AACM,QA4BR,8BAAmB,OAAoC;AACzD;AAAgB;AAEM;AAAkD;AAAgB,YAf/E,aAAQ,GAAsB,IAAI,CAAC;AAC5C,YAYI,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;AACjC;AAEO;AACQ;AACQ,YAAnB,IAAI,OAAO,CAAC,EAAE,KAAK,SAAS,EAAE;AAClC,gBAAM,IAAI,CAAC,EAAE,GAAG,QAAM,IAAI,IAAI,EAAE,CAAC,OAAO,EAAI,CAAC;AAC7C,aAAK;AACL,SAAG;AACH,mCAAC;AAED,KAFC;AAEE;AACH,ICVA;AACA;AAEC;AAAO;AACI;AACI;AAEA;AAAQ;AAET;AACd;AACiB;AACZ;AAGe;AAClB,QAmDD,wBAAmB,aAAmC;AACxD,YADqB,8BAAA,EAAA,kBAAmC;AACxD;AACQ,YAAJ,IAAI,CAAC,UAAU,GAAG;AACtB,gBAAM,OAAO,EAAE,IAAI;AACnB,gBAAM,IAAI,EAAE;AACZ,oBAAQ,MAAM,EAAE,MAAM;AACtB,oBAAQ,MAAM,EAAE,EAAE;AAClB,oBAAQ,MAAM,EAAE,MAAM;AACtB,oBAAQ,KAAK,EAAE,GAAG;AAClB,iBAAO;AACP,gBAAM,OAAO,EAAE,GAAG;AAClB,gBAAM,KAAK,EAAE;AACb,oBAAQ,MAAM,EAAE,MAAM;AACtB,oBAAQ,KAAK,EAAE,GAAG;AAClB,iBAAO;AACP,gBAAM,IAAI,EAAE;AACZ,oBAAQ,MAAM,EAAE,MAAM;AACtB,oBAAQ,MAAM,EAAE,OAAO;AACvB,oBAAQ,KAAK,EAAE,GAAG;AAClB,iBAAO;AACP,aAAK,CAAC;AACN,YAAI,IAAI,CAAC,SAAS,GAAG;AACrB,gBAAM,QAAQ,EAAE,IAAI;AACpB,gBAAM,OAAO,EAAE,KAAK;AACpB,gBAAM,WAAW,EAAE,eAAe;AAClC,gBAAM,iBAAiB,EAAE,IAAI;AAC7B,gBAAM,QAAQ,EAAE,CAAC;AACjB,aAAK,CAAC;AACN,YAAI,IAAI,CAAC,QAAQ,GAAG;AACpB,gBAAM,UAAU,EAAE;AAClB,oBAAQ,QAAQ,EAAE,EAAE;AACpB,oBAAQ,QAAQ,EAAE,MAAM;AACxB,iBAAO;AACP,gBAAM,QAAQ,EAAE;AAChB,oBAAQ,QAAQ,EAAE,EAAE;AACpB,oBAAQ,GAAG,EAAE,EAAE;AACf,oBAAQ,QAAQ,EAAE,QAAQ;AAC1B,iBAAO;AACP,aAAK,CAAC;AACN,YAAI,IAAI,CAAC,KAAK,GAAG,UAAU,CAAC;AAC5B;AAEO;AACQ;AACQ,YAAnB,IAAI,aAAa,CAAC,KAAK,KAAK,SAAS,EAAE;AAC3C,gBAAM,IAAI,CAAC,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC;AACvC,aAAK;AACL,YAAI,IAAI,aAAa,CAAC,UAAU,KAAK,SAAS,EAAE;AAChD,gBAAM,IAAI,aAAa,CAAC,UAAU,CAAC,OAAO,KAAK,SAAS,EAAE;AAC1D,oBAAQ,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;AACnE,iBAAO;AACP,gBAAM,IAAI,aAAa,CAAC,UAAU,CAAC,OAAO,KAAK,SAAS,EAAE;AAC1D,oBAAQ,IAAI,CAAC,UAAU,CAAC,OAAO,GAAG,aAAa,CAAC,UAAU,CAAC,OAAO,CAAC;AACnE,iBAAO;AACP,gBAAM,IAAI,aAAa,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;AACvD,oBAAQ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC3E,iBAAO;AACP,gBAAM,IAAI,aAAa,CAAC,UAAU,CAAC,KAAK,KAAK,SAAS,EAAE;AACxD,oBAAQ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,aAAa,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;AAC7E,iBAAO;AACP,gBAAM,IAAI,aAAa,CAAC,UAAU,CAAC,IAAI,KAAK,SAAS,EAAE;AACvD,oBAAQ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;AAC3E,iBAAO;AACP,aAAK;AACL,YAAI,IAAI,aAAa,CAAC,SAAS,KAAK,SAAS,EAAE;AAC/C,gBAAM,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE,aAAa,CAAC,SAAS,CAAC,CAAC;AAC7D,aAAK;AACL,YAAI,IAAI,aAAa,CAAC,QAAQ,KAAK,SAAS,EAAE;AAC9C,gBAAM,IAAI,aAAa,CAAC,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;AAC3D,oBAAQ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,UAAU,EAAE,aAAa,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;AACnF,iBAAO;AACP,gBAAM,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE;AACzD,oBAAQ,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;AAC/E,iBAAO;AACP,aAAK;AACL,SAAG;AACH,6BAAC;AACA,KADA;AACG;AAAC,ICxLL;AACA;AAEA;AAAQ,QAAK,oBAAoB,GAAoC,IAAIA,mBAAc,CACrF,qCAAqC,EACrC;AACF,IACA;AACA;AAEA;AAAQ,QAAK,mBAAmB,GAAmC,IAAIA,mBAAc,CAAiB,oCAAoC;AAC1I;AAAC,ICVD;AACA;AAEC;AAAO;AACI;AACI;AACI;AAEC;AAChB;AAA2B;AAGd;AAAQ;AAEkB;AAE5C;AAAuB;AAAY,QAejC;AACS,YAAP,IAAI,CAAC,YAAY,GAAG,IAAIC,YAAO,EAAkB,CAAC;AACtD,YAAI,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;AAC1B,YAAI,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;AACpC,SAAG;AACH;AAEK;AAEC;AAAW;AAEA;AAAY,QAApB,mCAAI,GAAJ,UAAK,MAAsB;AAAI,YACpC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAClC,YAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;AAC9B,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,uCAAQ,GAAR;AAAc,YACnB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;AACpC,YAAI,IAAI,CAAC,kBAAkB,EAAE,CAAC;AAC9B,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,iDAAkB,GAAlB;AAAc,YACpB,IAAI,IAAI,CAAC,kBAAkB,IAAI,IAAI,CAAC,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;AAClE,gBAAM,OAAO;AACb,aAAK;AACL,YAAI,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;AACnC,YAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC,CAAC;AACrD,SAAG;;;;;gDACH;AAAC;AACmC,SAtD9B;wDADLC,xDACM;AAE4B;AAHxB,AAGyB,ICZpC;AACA;AAEC;AAAO;AACI;AACI;AAGd;AAAQ;AAGV;AACM;AAAuB;AAAW;AAKlC;AAK2B;AAAY,QAG3C,yBAAmB,oBAA0C,EAA+B,MAAsB;AACpH,YAAI,IAAI,CAAC,YAAY,GAAG,oBAAoB,CAAC;AAC7C,YAAI,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;AACzB,SAAG;AACH;AAEK;AAEC;AAAW;AAEA;AAAY,QAApB,mCAAS,GAAT;AAAc,YACnB,OAAO,IAAI,CAAC,MAAM,CAAC;AACvB,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,8BAAI,GAAJ,UAAK,mBAAgD;AAAI,YAC9D,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC3B,gBAAM,OAAO,EAAE,mBAAmB;AAClC,gBAAM,IAAI,EAAE,MAAM;AAClB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,8BAAI,GAAJ,UAAK,cAAsB;AAAI,YACpC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC3B,gBAAM,OAAO,EAAE,cAAc;AAC7B,gBAAM,IAAI,EAAE,MAAM;AAClB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,oCAAU,GAAV;AAAc,YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC3B,gBAAM,IAAI,EAAE,aAAa;AACzB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,oCAAU,GAAV;AAAc,YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC3B,gBAAM,IAAI,EAAE,aAAa;AACzB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,iCAAO,GAAP;AAAc,YACnB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC3B,gBAAM,IAAI,EAAE,UAAU;AACtB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AACM;AAEA;AAAY,QAAjC,gCAAM,GAAN,UAAO,IAAY,EAAE,OAAe,EAAE,cAAuB;AAAI,YACtE,IAAM,mBAAmB,GAAgC;AAC7D,gBAAM,OAAO,SAAA;AACb,gBAAM,IAAI,MAAA;AACV,aAAK,CAAC;AACN,YAAI,IAAI,cAAc,KAAK,SAAS,EAAE;AACtC,gBAAM,mBAAmB,CAAC,EAAE,GAAG,cAAc,CAAC;AAC9C,aAAK;AACL,YAAI,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;AACnC,SAAG;;;;;;;;kCACH;AAAC;AAC8B,SApGzB;mDADLA,nDACM;MADI,NAIT,gBAbO,oBAAoB;AAAI,gBAHxB,cAAc,uBA8B2CC,WAAM,SAAC,mBAAmB;AAAQ;AAAU;AAAC,ICtB/G;AACA;AACI;AACI;AACI;AACI;AACI;AAEC;AAChB;AAA2B;AACI;AACI;AAGb;AAAQ;AAEb;AACtB;AACkB;AAAW;AAGgB;AAEP;AAEH;AAAY,QAkC7C,oCAAmB,cAAiC,EAAE,oBAA0C,EAAE,eAAgC;AACpI,YADE,iBAYC;AACH,YAZI,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACzC,YAAI,IAAI,CAAC,YAAY,GAAG,oBAAoB,CAAC;AAC7C,YAAI,IAAI,CAAC,MAAM,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;AAC9C,YAAI,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;AAC5B;AAEO,YAAH,IAAI,CAAC,wBAAwB,GAAG,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,SAAS,CAAC,UAAC,MAAsB;AAAI,gBAClG,KAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC;AAC/B,oBAAE,KAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;AACrC,iBAAO,CAAC,CAAC;AACT,aAAK,CAAC,CAAC;AACP,SAAG;AACH;AAEK;AAEA;AAAY,QAAR,gDAAW,GAAX;AAAc,YACnB,IAAI,IAAI,CAAC,wBAAwB,EAAE;AACvC,gBAAM,IAAI,CAAC,wBAAwB,CAAC,WAAW,EAAE,CAAC;AAClD,aAAK;AACL,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AACM;AAEA;AAAY,QAAjC,yDAAoB,GAApB,UAAqB,KAAa,EAAE,YAAkC;AAAI,YAC/E,OAAO,YAAY,CAAC,EAAE,CAAC;AAC3B,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,0DAAqB,GAArB,UAAsB,cAAsB;AAAI,YACrD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC;AAC3B,gBAAM,OAAO,EAAE,cAAc;AAC7B,gBAAM,IAAI,EAAE,MAAM;AAClB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,wDAAmB,GAAnB,UAAoB,qBAAoD;AAAI,YACjF,IAAM,mBAAmB,GAAyB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;AACxG,YAAI,mBAAmB,CAAC,SAAS,GAAG,qBAAqB,CAAC;AAC1D,YAAI,IAAI,CAAC,wBAAwB,CAAC,mBAAmB,CAAC,CAAC;AACvD,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AAEA;AAAY,QAA1B,iDAAY,GAAZ,UAAa,MAAsB;AAAI,YAC7C,QACE,MAAM,CAAC,IAAI;AACjB;AACQ,gBAAF,KAAK,MAAM;AACjB,oBAAQ,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC7C,gBAAM,KAAK,MAAM;AACjB,oBAAQ,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC7C,gBAAM,KAAK,aAAa;AACxB,oBAAQ,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;AACnD,gBAAM,KAAK,aAAa;AACxB,oBAAQ,OAAO,IAAI,CAAC,sBAAsB,CAAC,MAAM,CAAC,CAAC;AACnD,gBAAM,KAAK,UAAU;AACrB,oBAAQ,OAAO,IAAI,CAAC,mBAAmB,EAAE,CAAC;AAC1C,gBAAM;AACN,oBAAQ,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,wBAC/C,OAAO,EAAE,CAAC;AACpB,qBAAS,CAAC,CAAC;AACX,aAAK;AACL,SAAG;AAEH;AACM;AAEC;AAAW;AAEC;AAAW;AACM;AAEA;AAAY,QAAtC,qDAAgB,GAAhB,UAAiB,MAAsB;AAAI,YAA3C,iBAKP;AACH,YALI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,gBAC/C,KAAI,CAAC,mBAAmB,GAAG,OAAO,CAAC;AACzC,gBAAM,KAAI,CAAC,qBAAqB,CAAC,IAAI,oBAAoB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;AAC3E,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AACM;AACM;AAEC;AAAW;AAEA;AAAY,QAAlD,6DAAwB,GAAxB,UAAyB,YAAkC;AAAI,YAA/D,iBAkFP;AACH;AAIuB,YArFnB,IAAM,qBAAqB,GAAW,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;AACpE,YAAI,IAAI,qBAAqB,KAAK,CAAC,EAAE;AACrC,gBAAM,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;AACnE,aAAK;AAAC,iBAAK;AACX,gBAAM,IAAM,qBAAqB,GAAG,CAAC,CAAC;AACtC;AAES,gBAAH,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,qBAAqB,EAAE;AAC9G,oBAAQ,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;AAC9C,wBAAI,KAAI,CAAC,0BAA0B,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AACjE,wBAAU,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,KAAI,CAAC,mBAAmB,CAAC,CAAC;AACvE,qBAAS,CAAC,CAAC;AACX,iBAAO;AAAC,qBAAK;AACb,oBAAQ,IAAM,cAAY,GAAyB,EAAE,CAAC;AACtD;AAEW,oBAAH,IAAI,qBAAqB,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE;AACpE,wBAAU,IAAM,kBAAgB,GAAgC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,qBAAqB,GAAG,CAAC,CAAC,CAAC;AACvH;AAEa,wBAAH,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE;AAC9C;AACgB,4BAAJ,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,EAAE;AAChG,gCAAc,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACxE,gCAAc,UAAU,CAAC;AACnB,oCAAU,cAAY,CAAC,IAAI,CAAC,KAAI,CAAC,kBAAkB,CAAC,kBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;AACvH,iCAAe,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AACrF,gCAAc,UAAU,CAAC;AACnB,oCAAU,cAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACjE,iCAAe,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AAC1H,6BAAa;AAAC,iCAAK;AACnB,gCAAc,cAAY,CAAC,IAAI,CACf,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,oCACxC,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;AACxD,wCAAc,KAAI,CAAC,kBAAkB,CAAC,kBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;AACvG,4CAAgB,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAClE,yCAAqB,CAAC,CAAC;AACvB,qCAAmB,CAAC,CAAC;AACrB,iCAAiB,CAAC,CACH,CAAC;AAChB,6BAAa;AACb,yBAAW;AAAC,6BAAK;AACjB,4BAAY,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACtE,4BAAY,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;AACnH,4BAAY,cAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AAC7D,yBAAW;AACX,qBAAS;AAAC,yBAAK;AACf,wBAAU,IAAM,kBAAgB,GAAgC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,qBAAqB,GAAG,CAAC,CAAC,CAAC;AACvH;AAEa,wBAAH,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE;AAC9C;AACgB,4BAAJ,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,EAAE;AAChG,gCAAc,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;AACrH,gCAAc,UAAU,CAAC;AACnB,oCAAU,cAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACjE,iCAAe,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AACtF,6BAAa;AAAC,iCAAK;AACnB,gCAAc,cAAY,CAAC,IAAI,CACf,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,oCACxC,KAAI,CAAC,kBAAkB,CAAC,kBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC;AACrG,wCAAc,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAChE,qCAAmB,CAAC,CAAC;AACrB,iCAAiB,CAAC,CACH,CAAC;AAChB,6BAAa;AACb,yBAAW;AAAC,6BAAK;AACjB,4BAAY,cAAY,CAAC,IAAI,CAAC,IAAI,CAAC,kBAAkB,CAAC,kBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;AACnH,4BAAY,cAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AAC7D,yBAAW;AACX,qBAAS;AACT,oBACQ,OAAO,CAAC,GAAG,CAAC,cAAY,CAAC,CAAC,IAAI,CAAC;AACjC,wBAAI,IAAI,qBAAqB,GAAG,KAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE;AACtE,4BAAY,KAAI,CAAC,0BAA0B,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;AACnE,yBAAW;AACX,wBAAU,KAAI,CAAC,mBAAmB,EAAE,CAAC;AACrC,qBAAS,CAAC,CAAC;AACX,iBAAO;AACP,aAAK;AACL,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AACM;AAEC;AAAW;AAG1C;AAAgD;AAAY,QAAlD,qDAAgB,GAAhB,UAAiB,MAAsB;AAAI,YAA3C,iBAgDP;AACH,YAhDI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,gBAC/C,IAAM,YAAY,GAAyB,EAAE,CAAC;AACpD;AAES,gBAAH,IAAM,YAAY,GAAqC,KAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACvG,gBAAM,IAAI,YAAY,KAAK,SAAS,EAAE;AACtC,oBAAQ,OAAO,EAAE,CAAC;AAClB,oBAAQ,OAAO;AACf,iBAAO;AACP;AAES,gBAAH,IAAM,iBAAiB,GAAuB,KAAI,CAAC,yBAAyB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;AACnG,gBAAM,IAAI,iBAAiB,KAAK,SAAS,EAAE;AAC3C,oBAAQ,OAAO,EAAE,CAAC;AAClB,oBAAQ,OAAO;AACf,iBAAO;AACP,gBAAM,IAAM,gBAAgB,GAAgC,KAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC,EAAE,iBAAiB,CAAC,CAAC;AAC3G;AAES,gBAAH,IAAI,gBAAgB,CAAC,MAAM,GAAG,CAAC,EAAE;AACvC;AACY,oBAAJ,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;AACrF;AACc,wBAAJ,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,KAAK,KAAK,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,GAAG,CAAC,EAAE;AAC9F,4BAAY,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AAC7D,4BAAY,UAAU,CAAC;AACjB,gCAAQ,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;AACtH,6BAAa,EAAE,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC;AACnF,yBAAW;AAAC,6BAAK;AACjB,4BAAY,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;AACzC,gCAAQ,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;AACtH,6BAAa,CAAC,CAAC;AACf,yBAAW;AACX,qBAAS;AAAC,yBAAK;AACf,wBAAU,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AAC3D,wBAAU,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,kBAAkB,CAAC,gBAAgB,EAAE,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;AAClH,qBAAS;AACT,iBAAO;AAAC,qBAAK;AACb,oBAAQ,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACzD,iBAAO;AACP;AAES,gBAAH,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;AAC/B,oBAAE,KAAI,CAAC,0BAA0B,CAAC,YAAY,CAAC,CAAC;AACtD,oBAAQ,OAAO,EAAE,CAAC;AAClB,iBAAO,CAAC,CAAC;AACT,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AAEA;AAAY,QAA1B,2DAAsB,GAAtB,UAAuB,MAAsB;AAAI;AACD,YACtD,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;AACzC,gBAAM,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,oBAC/C,OAAO,EAAE,CAAC;AAClB,iBAAO,CAAC,CAAC;AACT,aAAK;AAAC,iBAAK;AACX,gBAAM,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAChD,gBAAM,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC3C,aAAK;AACL,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AAEA;AAAY,QAA1B,2DAAsB,GAAtB,UAAuB,MAAsB;AAAI;AACD,YACtD,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;AACzC,gBAAM,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,oBAC/C,OAAO,EAAE,CAAC;AAClB,iBAAO,CAAC,CAAC;AACT,aAAK;AAAC,iBAAK;AACX,gBAAM,MAAM,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;AAC5E,gBAAM,OAAO,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;AAC3C,aAAK;AACL,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAApB,wDAAmB,GAAnB;AAAc,YAAd,iBA0CP;AACH,YA1CI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI;AAE9C,gBAAD,IAAM,qBAAqB,GAAW,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC;AACtE,gBAAM,IAAI,qBAAqB,KAAK,CAAC,EAAE;AACvC,oBAAQ,OAAO,EAAE,CAAC;AAClB,oBAAQ,OAAO;AACf,iBAAO;AACP;AAES,gBAAH,IACE,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO;AACtC,oBAAQ,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC;AAC7C,oBAAQ,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,KAAK,KAAK;AACpD,oBAAQ,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EACtC;AACR,4CAAiB,CAAC;AAAI,wBACZ,IAAM,eAAe,GAAW,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,KAAK,GAAG,qBAAqB,GAAG,CAAC,GAAG,CAAC,CAAC;AAC3H,wBAAU,UAAU,CAAC;AACf,4BAAM,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC;AAClD;AAED,gCADS,IACE,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC;AAC5E,qCAAiB,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,QAAQ,IAAI,CAAC,KAAK,qBAAqB,GAAG,CAAC,CAAC,EACxF;AAChB,oCAAgB,KAAI,CAAC,8BAA8B,EAAE,CAAC;AACtD,oCAAgB,OAAO,EAAE,CAAC;AAC1B,iCAAe;AACf,6BAAa,CAAC,CAAC;AACf,yBAAW,EAAE,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,GAAG,eAAe,CAAC,CAAC;AACnE;AACa,oBAfL,KAAK,IAAI,CAAC,GAAW,qBAAqB,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE;AACnE,gCADiB,CAAC;AAAG,qBAcZ;AACT,iBAAO;AAAC,qBAAK;AACb,oBAAQ,IAAM,YAAY,GAAyB,EAAE,CAAC;AACtD,oBAAQ,KAAK,IAAI,CAAC,GAAW,qBAAqB,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AACrE,wBAAU,YAAY,CAAC,IAAI,CAAC,KAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC;AACpE,qBAAS;AACT,oBAAQ,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC;AACjC,wBAAI,KAAI,CAAC,8BAA8B,EAAE,CAAC;AAChD,wBAAU,OAAO,EAAE,CAAC;AACpB,qBAAS,CAAC,CAAC;AACX,iBAAO;AACP,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AACM;AACM;AAEA;AAAY,QAAtC,uDAAkB,GAAlB,UAAmB,aAA0C,EAAE,QAAgB,EAAE,WAAoB;AAAI,YAC/G,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI;AAE9C,gBAAD,IAAI,aAAa,CAAC,MAAM,KAAK,CAAC,EAAE;AACtC,oBAAQ,OAAO,EAAE,CAAC;AAClB,oBAAQ,OAAO;AACf,iBAAO;AACP,gBACM,IAAM,oBAAoB,GAAyB,EAAE,CAAC;AAC5D,gBAAM,KAAK,IAAI,CAAC,GAAW,aAAa,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AAClE,oBAAQ,oBAAoB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC,CAAC;AAC3F,iBAAO;AACP,gBAAM,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AACtD,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAApB,0DAAqB,GAArB,UAAsB,YAAkC;AAAI,YAClE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AAC1C,YAAI,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;AACvC,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAApB,+DAA0B,GAA1B,UAA2B,YAAkC;AAAI,YACvE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,UAAC,IAA0B,IAAK,OAAA,IAAI,CAAC,SAAS,KAAK,YAAY,CAAC,SAAS,GAAA,CAAC,CAAC;AAC9H,YAAI,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;AACvC,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,mEAA8B,GAA9B;AAAc,YACpB,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC;AAC5B,YAAI,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;AACvC,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AAEA;AAAY,QAA1B,yDAAoB,GAApB,UAAqB,cAAsB;AAAI,YACrD,OAAO,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,UAAC,mBAAyC,IAAK,OAAA,mBAAmB,CAAC,EAAE,KAAK,cAAc,GAAA,CAAC,CAAC;AAC7H,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AAEA;AAAY,QAA1B,8DAAyB,GAAzB,UAA0B,cAAsB;AAAI,YAC1D,IAAM,iBAAiB,GAAW,IAAI,CAAC,aAAa,CAAC,SAAS,CAC5D,UAAC,mBAAyC,IAAK,OAAA,mBAAmB,CAAC,EAAE,KAAK,cAAc,GAAA,CACzF,CAAC;AACN,YAAI,OAAO,iBAAiB,KAAK,CAAC,CAAC,GAAG,iBAAiB,GAAG,SAAS,CAAC;AACpE,SAAG;;;;;;;;;;;;;;;;;;;;6IACH;AAAC;AACyC,SAncjC;8DARRC,9DAQS;KARA,SAAC,sBACT,pCASU,gBAjCsBE,sBAAiB;SAwBlC,EAAED,4BAAuB,vCAxBa,gBAO9C,oBAAoB;AAiBc,MAAM,sBAC/C,IAAI,hCAlB2B,gBADxB,eAAe;AAmBhB,AAnBmB;AAAU;eAoBjC,KAAK,EAAE,tBApB2B,aCA9B;gBDoBwB,hBCpBV,QAClB,OAAO;AACX,YAAM,IAAI,EAAE;EDmBT,sBACD,xBCnBF,gBAAQ,OAAO,EAAE,GAAG;EDmBV,EAAE,JClBZ,aAAO;SDkByB,TCjBhC,YAAM,EAAE,EAAE;aDkBR,bCjBF,gBAAQ,OAAO,EAAE,GAAG;AACpB,aAAO;AACP,SAAK,CAAC;AACN,IAAE,CAAC,OACK;AAAc,QAClB,OAAO;AACX,YAAM,IAAI,EAAE;AACZ,gBAAQ,OAAO,EAAE,GAAG;AACpB,aAAO;AACP,YAAM,EAAE,EAAE;AACV,gBAAQ,OAAO,EAAE,GAAG;AACpB,aAAO;AACP,SAAK,CAAC;AACN,IAAE,CAAC;AACH,IAxBA;AACA;AAEA;AAAQ,IAAD,IAAM,IAAI,GAA4B;AAC7C,QAAE,IAAI,IASH;gBDciD,hBCbpD,QAAE,IAAI,IASH;AACH,KAAC;AACD;QDGC,RCHA,eCnBO,UAAC,YAAkC;AAAI;AAA6B,QAExE,IAAM,MAAM,GAAmB,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;AACtE,QAAI,IAAM,KAAK,GAAW,YAAY,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC;AAC5D,QAAI,IAAI,IAEH,CAAC;AACN,QAAI,IAAI,EAEH,CAAC;AACN;AAEG,QAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,MAAM,EAAE;AACxD,YAAM,IAAI,GAAG;AACb,gBAAQ,SAAS,EAAE,qBAAmB,KAAK,YAAS;AACpD,aAAO,CAAC;AACR,YAAM,EAAE,GAAG;AACX,gBAAQ,SAAS,EAAE,gCAA8B,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,qBAAgB,KAAK,YAAS;AAClH,aAAO,CAAC;AACR,SAAK;AAAC,aAAK,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,OAAO,EAAE;AAChE,YAAM,IAAI,GAAG;AACb,gBAAQ,SAAS,EAAE,qBAAmB,KAAK,YAAS;AACpD,aAAO,CAAC;AACR,YAAM,EAAE,GAAG;AACX,gBAAQ,SAAS,EAAE,+BAA6B,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,qBAAgB,KAAK,YAAS;AACjH,aAAO,CAAC;AACR,SAAK;AAAC,aAAK;AACX,YAAM,IAAI,kBAA0B,SAAA,CAAC;AACrC,YAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,KAAK,EAAE;AACvD,gBAAQ,kBAAkB,GAAG,mBAAiB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,gBAAa,CAAC;AAC/F,aAAO;AAAC,iBAAK;AACb,gBAAQ,kBAAkB,GAAG,kBAAgB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,gBAAa,CAAC;AAC9F,aAAO;AACP,YAAM,IAAI,GAAG;AACb,gBAAQ,SAAS,EAAE,wBAAsB,KAAK,YAAS;AACvD,aAAO,CAAC;AACR,YAAM,EAAE,GAAG;AACX,gBAAQ,SAAS,EAAE,wBAAsB,kBAAkB,UAAO;AAClE,aAAO,CAAC;AACR,SAAK;AACL;AAEG,QAAC,OAAO;AACX,YAAM,IAAI,MAAA;AACV,YAAM,EAAE,IAAA;AACR,SAAK,CAAC;AACN,IAAE,CAAC,SACK,UAAC,YAAkC;AAAI;AAA6B,QAExE,IAAM,MAAM,GAAmB,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;AACtE,QAAI,IAAI,IAEH,CAAC;AACN,QAAI,IAAI,EAEH,CAAC;AACN;AAEG,QAAC,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,MAAM,EAAE;AACxD,YAAM,IAAI,GAAG;AACb,gBAAQ,SAAS,EAAE,gCAA8B,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,wBAAqB;AACzG,aAAO,CAAC;AACR,YAAM,EAAE,GAAG;AACX,gBAAQ,SAAS,EAAE,wBAAwB;AAC3C,aAAO,CAAC;AACR,SAAK;AAAC,aAAK,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,OAAO,EAAE;AAChE,YAAM,IAAI,GAAG;AACb,gBAAQ,SAAS,EAAE,+BAA6B,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,wBAAqB;AACxG,aAAO,CAAC;AACR,YAAM,EAAE,GAAG;AACX,gBAAQ,SAAS,EAAE,wBAAwB;AAC3C,aAAO,CAAC;AACR,SAAK;AAAC,aAAK;AACX,YAAM,IAAI,kBAA0B,SAAA,CAAC;AACrC,YAAM,IAAI,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,KAAK,EAAE;AACvD,gBAAQ,kBAAkB,GAAG,mBAAiB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,gBAAa,CAAC;AAC/F,aAAO;AAAC,iBAAK;AACb,gBAAQ,kBAAkB,GAAG,kBAAgB,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,gBAAa,CAAC;AAC9F,aAAO;AACP,YAAM,IAAI,GAAG;AACb,gBAAQ,SAAS,EAAE,wBAAsB,kBAAkB,UAAO;AAClE,aAAO,CAAC;AACR,YAAM,EAAE,GAAG;AACX,gBAAQ,SAAS,EAAE,2BAA2B;AAC9C,aAAO,CAAC;AACR,SAAK;AACL;AAEG,QAAC,OAAO;AACX,YAAM,IAAI,MAAA;AACV,YAAM,EAAE,IAAA;AACR,SAAK,CAAC;AACN,IAAE,CAAC;AACH,IAjGA;AACA;AAEA;AAAQ,IAAD,IAAM,KAAK,GAA4B;AAC9C,QAAE,IAAI,MA8CH;AACH,QAAE,IAAI,MA6CH;AACH,KAAC;AACD;AAAC,IC/FD;AACA;AAEA;AAAQ;AAGI;AAAY;AAAuB;AAE5C,QAOD;AACa,YAAX,IAAI,CAAC,gBAAgB,GAAG;AAC5B,gBAAM,IAAI,MAAA;AACV,gBAAM,KAAK,OAAA;AACX,aAAK,CAAC;AACN,SAAG;AACH;AAEK;AAEC;AAAW;AACM;AAEC;AAAW;AACM;AAGpC;AAA0C;AAAY,QAAlD,mDAAgB,GAAhB,UAAiB,SAA0B,EAAE,YAAkC;AAAI;AACnE,YACrB,IAAI,SAA2C,CAAC;AACpD,YAAI,IAAI,QAAgB,CAAC;AACzB,YAAI,IAAI,MAAc,CAAC;AACvB,YAAI,IAAI,SAAS,KAAK,MAAM,EAAE;AAC9B,gBAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACtH,gBAAM,QAAQ,GAAG,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1E,gBAAM,MAAM,GAAG,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;AACzE,aAAK;AAAC,iBAAK;AACX,gBAAM,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACtH,gBAAM,QAAQ,GAAG,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC;AAC1E,gBAAM,MAAM,GAAG,YAAY,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC;AACzE,aAAK;AACL;AAEO,YAAH,OAAO;AACX,gBAAM,SAAS,EAAE,CAAC,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,EAAE,CAAC;AAC/C,gBAAM,OAAO,EAAE;AACf,oBAAQ,QAAQ,UAAA;AAChB,oBAAQ,MAAM,QAAA;AACd,oBAAQ,IAAI,EAAE,UAAU;AAAE,iBACnB;AACP,aAAK,CAAC;AACN,SAAG;;;;;gDACH;AAAC;AACuC,SAtDlC;4DADLH,5DACM;AAE4B;AAHxB,AAGyB,ICXpC;AACA;AAEC;AAAO;AACI;AAEA;AACN;AAEkB;AAAY;AAAuB;AAEzD,QAoBA;AACS,YAAP,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;AACjB,YAAI,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACvB,SAAG;AACH;AAEK;AAEC;AAAW;AACM;AAEA;AAAY,QAA1B,oCAAK,GAAL,UAAM,QAAgB;AAAI,YAA1B,iBASN;AACH,YATI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI;AAE9C,gBAAD,KAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;AAChC;AAES,gBAAH,KAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;AAC3C,gBAAM,KAAI,CAAC,QAAQ,EAAE,CAAC;AACtB,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,oCAAK,GAAL;AAAc,YACnB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC/B,YAAI,IAAI,CAAC,SAAS,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,GAAG,CAAC;AACtD,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,uCAAQ,GAAR;AAAc,YAAd,iBAKN;AACH,YALI,IAAI,CAAC,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,CAAC;AACpC,YAAI,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,UAAU,CAAC;AAC/B,gBAAA,KAAI,CAAC,MAAM,EAAE,CAAC;AACpB,aAAK,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AACvB,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,mCAAI,GAAJ;AAAc,YACnB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;AAC/B,YAAI,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;AACvB,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,qCAAM,GAAN;AAAc,YACpB,IAAI,CAAC,qBAAqB,EAAE,CAAC;AACjC,SAAG;;;;;gDACH;AAAC;AACmC,SA/E9B;wDADLA,xDACM;AAE4B;AAHxB,AAGyB,ICFpC;AACA;AACI;AACI;AACI;AACI;AAEhB;AAEO;AAAQ;AAEV;AAAY;AACjB;AAAW;AACkC;AAI7C;AAA4D;AAChD;AAAsE;AAClF,QAyEE,uCACE,UAAsB,EACtB,QAAmB,EACnB,eAAgC,EAChC,oBAA0C,EAC1C,wBAAkD;AACpD,YACE,IAAI,CAAC,MAAM,GAAG,eAAe,CAAC,SAAS,EAAE,CAAC;AAC9C,YAAI,IAAI,CAAC,KAAK,GAAG,IAAIK,iBAAY,EAAiC,CAAC;AACnE,YAAI,IAAI,CAAC,OAAO,GAAG,IAAIA,iBAAY,EAAU,CAAC;AAC9C,YAAI,IAAI,CAAC,YAAY,GAAG,oBAAoB,CAAC;AAC7C,YAAI,IAAI,CAAC,gBAAgB,GAAG,wBAAwB,CAAC;AACrD,YAAI,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;AAC7B,YAAI,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,aAAa,CAAC;AAC5C,YAAI,IAAI,CAAC,YAAY,GAAG,CAAC,CAAC;AAC1B,SAAG;AACH;AAEK;AAEA;AAAY,QAAR,uDAAe,GAAf;AAAc,YACnB,IAAI,CAAC,KAAK,EAAE,CAAC;AACjB,YAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;AACnD,YAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC;AACjD,YAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC1B,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,iDAAS,GAAT;AAAc,YACnB,OAAO,IAAI,CAAC,MAAM,CAAC;AACvB,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,iDAAS,GAAT;AAAc,YACnB,OAAO,IAAI,CAAC,aAAa,CAAC;AAC9B,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAClB,QADS,gDAAQ,GAAR;AAAc,YACnB,OAAO,IAAI,CAAC,YAAY,CAAC;AAC7B,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAClB,QADS,gDAAQ,GAAR;AAAc,YACnB,OAAO,IAAI,CAAC,YAAY,CAAC;AAC7B,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,4CAAI,GAAJ;AAAc,YAAd,iBA2BN;AACH,YA3BI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI;AAE9C,gBAAD,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;AACnF;AACY,oBAAJ,IAAM,aAAa,GAA0B,KAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,EAAE,KAAI,CAAC,YAAY,CAAC,CAAC;AACvH;AAEW,oBAAH,IAAM,kBAAkB,GAAkB,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1F,oBAAQ,KAAK,IAAI,CAAC,GAAW,kBAAkB,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;AACzE,wBAAU,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC,CAAC,CAAC,EAAE,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACzH,qBAAS;AACT;AAEW,oBAAH,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;AACtE,oBAAQ,IAAM,SAAS,GAAc,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC;AAC1G,oBAAQ,SAAS,CAAC,QAAQ,GAAG;AACvB,wBAAI,KAAI,CAAC,kBAAkB,EAAE,CAAC;AACpC,wBAAU,OAAO,EAAE,CAAC;AACpB,qBAAS,CAAC;AACV,iBAAO;AAAC,qBAAK;AACb;AACY,oBAAJ,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;AACtE,oBAAQ,KAAI,CAAC,kBAAkB,EAAE,CAAC;AAClC,oBAAQ,OAAO,EAAE,CAAC;AAClB,iBAAO;AACP,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AAEA;AAAY,QAArB,4CAAI,GAAJ;AAAc,YAAd,iBAeN;AACH,YAfI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI,gBAC/C,KAAI,CAAC,iBAAiB,EAAE,CAAC;AAC/B;AAES,gBAAH,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,EAAE;AACnF,oBAAQ,IAAM,aAAa,GAA0B,KAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,MAAM,EAAE,KAAI,CAAC,YAAY,CAAC,CAAC;AACvH,oBAAQ,IAAM,SAAS,GAAc,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC;AAC1G,oBAAQ,SAAS,CAAC,QAAQ,GAAG;AACvB,wBAAI,OAAO,EAAE,CAAC;AACpB,qBAAS,CAAC;AACV,iBAAO;AAAC,qBAAK;AACb,oBAAQ,OAAO,EAAE,CAAC;AAClB,iBAAO;AACP,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEC;AAAW;AACM;AACM;AAEA;AAAY,QAAjC,6CAAK,GAAL,UAAM,QAAgB,EAAE,gBAAyB;AAAI,YAArD,iBA2CN;AACH,YA3CI,OAAO,IAAI,OAAO,CAAO,UAAC,OAAmB;AAAI;AAE9C,gBAAD,IAAI,eAAuB,CAAC;AAClC,gBAAM,IACE,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,KAAK,IAAI,gBAAgB;AAC7E,qBAAS,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,QAAQ,IAAI,CAAC,gBAAgB,CAAC,EAC1E;AACR,oBAAQ,eAAe,GAAG,KAAI,CAAC,YAAY,GAAG,QAAQ,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC;AAC3F,iBAAO;AAAC,qBAAK;AACb,oBAAQ,eAAe,GAAG,KAAI,CAAC,YAAY,GAAG,QAAQ,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC;AAC3F,iBAAO;AACP,gBAAM,IAAM,kBAAkB,GAAW,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,QAAQ,GAAG,MAAM,GAAG,GAAG,CAAC;AAC9G;AAES,gBAAH,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,IAAI,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,EAAE;AACpF,oBAAQ,IAAM,aAAa,GAA0B;AACrD;AACc,wBAAJ,SAAS,EAAE;AACrB,4BAAY;AACZ,gCAAc,SAAS,EAAE,kBAAgB,kBAAkB,UAAK,KAAI,CAAC,YAAY,YAAS;AAC1F,6BAAa;AACb,4BAAY;AACZ,gCAAc,SAAS,EAAE,kBAAgB,kBAAkB,UAAK,eAAe,YAAS;AACxF,6BAAa;AACb,yBAAW;AACX,wBAAU,OAAO,EAAE;AACnB,4BAAY,QAAQ,EAAE,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK;AACxD,4BAAY,MAAM,EAAE,KAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,MAAM;AACvD,4BAAY,IAAI,EAAE,UAAU;AAC5B,yBAAW;AACX,qBAAS,CAAC;AACV,oBAAQ,KAAI,CAAC,YAAY,GAAG,eAAe,CAAC;AAC5C,oBAAQ,IAAM,SAAS,GAAc,KAAI,CAAC,OAAO,CAAC,OAAO,CAAC,aAAa,CAAC,SAAS,EAAE,aAAa,CAAC,OAAO,CAAC,CAAC;AAC1G,oBAAQ,SAAS,CAAC,QAAQ,GAAG;AACvB,wBAAI,OAAO,EAAE,CAAC;AACpB,qBAAS,CAAC;AACV,iBAAO;AAAC,qBAAK;AACb,oBAAQ,KAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,KAAI,CAAC,OAAO,EAAE,WAAW,EAAE,kBAAgB,kBAAkB,UAAK,eAAe,YAAS,CAAC,CAAC;AAC3H,oBAAQ,KAAI,CAAC,YAAY,GAAG,eAAe,CAAC;AAC5C,oBAAQ,OAAO,EAAE,CAAC;AAClB,iBAAO;AACP,aAAK,CAAC,CAAC;AACP,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,sDAAc,GAAd;AAAc,YACnB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC;AAC5C,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,+DAAuB,GAAvB;AAAc,YACnB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,KAAK,eAAe,EAAE;AAC/D,gBAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;AAChC,aAAK;AAAC,iBAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,KAAK,eAAe,EAAE;AACtE,gBAAM,IAAI,CAAC,iBAAiB,EAAE,CAAC;AAC/B,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,8DAAsB,GAAtB;AAAc,YACnB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,KAAK,eAAe,EAAE;AAC/D,gBAAM,IAAI,CAAC,qBAAqB,EAAE,CAAC;AACnC,aAAK;AAAC,iBAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,WAAW,KAAK,eAAe,EAAE;AACtE,gBAAM,IAAI,CAAC,kBAAkB,EAAE,CAAC;AAChC,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAT,2DAAmB,GAAnB;AAAc,YACnB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO,KAAK,MAAM,EAAE;AAClD,gBAAM,IAAI,CAAC,cAAc,EAAE,CAAC;AAC5B,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,0DAAkB,GAAlB;AAAc,YAAd,iBAMP;AACH,YANI,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,CAAC,EAAE;AACxF,gBAAM,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC;AAC7D,oBAAE,KAAI,CAAC,cAAc,EAAE,CAAC;AAC9B,iBAAO,CAAC,CAAC;AACT,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,0DAAkB,GAAlB;AAAc,YACpB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,CAAC,EAAE;AACxF,gBAAM,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;AAChC,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,6DAAqB,GAArB;AAAc,YACpB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,CAAC,EAAE;AACxF,gBAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC;AACnC,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,yDAAiB,GAAjB;AAAc,YACpB,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,KAAK,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,GAAG,CAAC,EAAE;AACxF,gBAAM,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;AAC/B,aAAK;AACL,SAAG;AAEH;AACM;AAEA;AAAY,QAAR,6CAAK,GAAL;AAAc;AAElB,YAAF,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,MAAM,EAAE;AAC7D,gBAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,OAAI,CAAC,CAAC;AACpG,aAAK;AAAC,iBAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,KAAK,OAAO,EAAE;AACrE,gBAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,EAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,OAAI,CAAC,CAAC;AACrG,aAAK;AAAC,iBAAK;AACX,gBAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;AAC1D;AACU,gBAAJ,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,WAAW,EAAE,2BAA2B,CAAC,CAAC;AACrF,aAAK;AACL,YAAI,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,KAAK,KAAK,EAAE;AAC1D,gBAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,OAAI,CAAC,CAAC;AACjG,aAAK;AAAC,iBAAK;AACX,gBAAM,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,EAAK,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,QAAQ,OAAI,CAAC,CAAC;AACpG,aAAK;AACL;AAEO,YAAH,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,6BAA2B,IAAI,CAAC,YAAY,CAAC,IAAM,CAAC,CAAC;AAC9F,YAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE,6BAA2B,IAAI,CAAC,MAAM,CAAC,KAAO,CAAC,CAAC;AACzF,SAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oBACH;AAAC;AAC4C,SApVpC;iEAhBRH,jEAgBS;KAhBA,SAAC,dAkBH,gBAnCoDI,eAAU;CAkBpE,eAAe,EAAEH,lBAlBuD,gBAA2BI,cAAS;YAkBpE,CAAC,MAAM,nBAlBiE,gBAKzG,eAAe;MActB,IAAI,EAAE,0BACJ,tCAfwB,gBAEnB,oBAAoB;OAahB,EAAE,uBAAuB,hCAbL,gBADxB,wBAAwB;AAAG;KAehC,YAAY,EAAE,0BAA0B,7CAfE;kBAgB1C,aAAa,EAAE,jCAfH,+BA8BbC,UAAK;cAfsC,dAgB5C,wBAKCC,WAAM;AApBL,KAAK,EAAE,wBAAwB,/BAqBjC,0BAKCA,WAAM;AACR;AAAO;KA1BL,LA0BM,ICvCT;mBDcE,SAAS,EAAE,9BCbb;AAEC;AAAO;AACI;AAEC;AAAO;4BDWhB,oBAAoB,hDCVA;AAEA;YDSrB,sBACD,QAAQ,EAAE,5CCVoB,aAAhB,2BAA2B,CAAC,OAAwB;eDUjC,sBACjC,rCCXsE,QACtE,OAAO,IAAI,cAAc,CAAC,OAAO,CAAC,CAAC;AACrC,IAAA,CAAC;AACD,IACA;AACA;AAEC;AAAO;AACI;AAEC;AAAO;AAEA;AAAQ,aAAZ,4BAA4B;AAAK,QAC/C,OAAO,IAAI,cAAc,CAAC,EAAE,CAAC,CAAC;AAChC,IAAA,CAAC;AACD,IACA;AACA;AAEA;AAAQ;AAC0C,QAelD;AAA4B;AAE1B;AAAY;AAEC;AAAW;sDD5B6B,tDC6BvB;AAEA;AD9B/B,AC8B2C,QAA5B,yBAAU,GAAjB,UAAkB,OAA6B;AAAI,YAAjC,wBAAA,EAAA,YAA6B;AAAI,YACxD,OAAO;AACX,gBAAM,QAAQ,EAAE,cAAc;AAC9B,gBAAM,SAAS,EAAE;AACjB;AAEE,oBADM;AACR,wBAAU,OAAO,EAAE,oBAAoB;AACvC,wBAAU,QAAQ,EAAE,OAAO;AAC3B,qBAAS;AACT;AAGC,oBADO;AACR,wBAAU,IAAI,EAAE,CAAC,oBAAoB,CAAC;AACtC,wBAAU,OAAO,EAAE,mBAAmB;AACtC,wBAAU,UAAU,EAAE,2BAA2B;AACjD,qBAAS;AACT,iBAAO;AACP,aAAK,CAAC;AACN,SAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gDACH;AAAC;AAC6B,SA3BrB;AAAC;AAAC,ICvDX;yCDuCCC,zCCtCD;AAEA;AACO;CDmCE,SAAC,sBACR,YAAY,5CCpCN;CDoCQ,CAAC,0BAA0B,EAAE,9BClClB;IDkC+C,CAAC,sBACzE,OAAO,EAAE,CAAC,0BAA0B,CAAC,hECnC2C;iBDoChF,OAAO,EAAE,CAACC,3BCnCiD;CDmCrC,CAAC,sBACvB,SAAS,EAAE,0BACT,7DCpCoB;UDoCI,0BACxB,eAAe,nDCrCgF;oBDsC/F,oBAAoB,xCCtCoI;AAA+C;iDDyCvM,jDCzC8Q;MD0C5Q,OAAO,EAAE,mBAAmB,lCC1CyT;yBD2CrV,UAAU,EAAE,rCC3CgX;0BD2CpV,1BC3C2X;AAA2C;SD4C/c,uBACF,mBACF,nDC9Cod;AAAmE;AAAC;AAAM","sourcesContent":["import { TemplateRef } from '@angular/core';\n\nimport { NotifierNotificationComponent } from '../components/notifier-notification.component';\n\n/**\n * Notification\n *\n * This class describes the structure of a notifiction, including all information it needs to live, and everyone else needs to work with it.\n */\nexport class NotifierNotification {\n  /**\n   * Unique notification ID, can be set manually to control the notification from outside later on\n   */\n  public id: string;\n\n  /**\n   * Notification type, will be used for constructing an appropriate class name\n   */\n  public type: string;\n\n  /**\n   * Notification message\n   */\n  public message: string;\n\n  /**\n   * The template to customize\n   * the appearance of the notification\n   */\n  public template?: TemplateRef<any> = null;\n\n  /**\n   * Component reference of this notification, created and set during creation time\n   */\n  public component: NotifierNotificationComponent;\n\n  /**\n   * Constructor\n   *\n   * @param options Notifier options\n   */\n  public constructor(options: NotifierNotificationOptions) {\n    Object.assign(this, options);\n\n    // If not set manually, we have to create a unique notification ID by ourselves. The ID generation relies on the current browser\n    // datetime in ms, in praticular the moment this notification gets constructed. Concurrency, and thus two IDs being the exact same,\n    // is not possible due to the action queue concept.\n    if (options.id === undefined) {\n      this.id = `ID_${new Date().getTime()}`;\n    }\n  }\n}\n\n/**\n * Notifiction options\n *\n * This interface describes which information are needed to create a new notification, or in other words, which information the external API\n * call must provide.\n */\nexport interface NotifierNotificationOptions {\n  /**\n   * Notification ID, optional\n   */\n  id?: string;\n\n  /**\n   * Notification type\n   */\n  type: string;\n\n  /**\n   * Notificatin message\n   */\n  message: string;\n\n  /**\n   * The template to customize\n   * the appearance of the notification\n   */\n  template?: TemplateRef<any>;\n}\n","/**\n * Notifier options\n */\nexport interface NotifierOptions {\n  animations?: {\n    enabled?: boolean;\n    hide?: {\n      easing?: string;\n      offset?: number | false;\n      preset?: string;\n      speed?: number;\n    };\n    overlap?: number | false;\n    shift?: {\n      easing?: string;\n      speed?: number;\n    };\n    show?: {\n      easing?: string;\n      preset?: string;\n      speed?: number;\n    };\n  };\n  behaviour?: {\n    autoHide?: number | false;\n    onClick?: 'hide' | false;\n    onMouseover?: 'pauseAutoHide' | 'resetAutoHide' | false;\n    showDismissButton?: boolean;\n    stacking?: number | false;\n  };\n  position?: {\n    horizontal?: {\n      distance?: number;\n      position?: 'left' | 'middle' | 'right';\n    };\n    vertical?: {\n      distance?: number;\n      gap?: number;\n      position?: 'top' | 'bottom';\n    };\n  };\n  theme?: string;\n}\n\n/**\n * Notifier configuration\n *\n * The notifier configuration defines what notifications look like, how they behave, and how they get animated. It is a global\n * configuration, which means that it only can be set once (at the beginning), and cannot be changed afterwards. Aligning to the world of\n * Angular, this configuration can be provided in the root app module - alternatively, a meaningful default configuration will be used.\n */\nexport class NotifierConfig implements NotifierOptions {\n  /**\n   * Customize animations\n   */\n  public animations: {\n    enabled: boolean;\n    hide: {\n      easing: string;\n      offset: number | false;\n      preset: string;\n      speed: number;\n    };\n    overlap: number | false;\n    shift: {\n      easing: string;\n      speed: number;\n    };\n    show: {\n      easing: string;\n      preset: string;\n      speed: number;\n    };\n  };\n\n  /**\n   * Customize behaviour\n   */\n  public behaviour: {\n    autoHide: number | false;\n    onClick: 'hide' | false;\n    onMouseover: 'pauseAutoHide' | 'resetAutoHide' | false;\n    showDismissButton: boolean;\n    stacking: number | false;\n  };\n\n  /**\n   * Customize positioning\n   */\n  public position: {\n    horizontal: {\n      distance: number;\n      position: 'left' | 'middle' | 'right';\n    };\n    vertical: {\n      distance: number;\n      gap: number;\n      position: 'top' | 'bottom';\n    };\n  };\n\n  /**\n   * Customize theming\n   */\n  public theme: string;\n\n  /**\n   * Constructor\n   *\n   * @param [customOptions={}] Custom notifier options, optional\n   */\n  public constructor(customOptions: NotifierOptions = {}) {\n    // Set default values\n    this.animations = {\n      enabled: true,\n      hide: {\n        easing: 'ease',\n        offset: 50,\n        preset: 'fade',\n        speed: 300,\n      },\n      overlap: 150,\n      shift: {\n        easing: 'ease',\n        speed: 300,\n      },\n      show: {\n        easing: 'ease',\n        preset: 'slide',\n        speed: 300,\n      },\n    };\n    this.behaviour = {\n      autoHide: 7000,\n      onClick: false,\n      onMouseover: 'pauseAutoHide',\n      showDismissButton: true,\n      stacking: 4,\n    };\n    this.position = {\n      horizontal: {\n        distance: 12,\n        position: 'left',\n      },\n      vertical: {\n        distance: 12,\n        gap: 10,\n        position: 'bottom',\n      },\n    };\n    this.theme = 'material';\n\n    // The following merges the custom options into the notifier config, respecting the already set default values\n    // This linear, more explicit and code-sizy workflow is preferred here over a recursive one (because we know the object structure)\n    // Technical sidenote: Objects are merged, other types of values simply overwritten / copied\n    if (customOptions.theme !== undefined) {\n      this.theme = customOptions.theme;\n    }\n    if (customOptions.animations !== undefined) {\n      if (customOptions.animations.enabled !== undefined) {\n        this.animations.enabled = customOptions.animations.enabled;\n      }\n      if (customOptions.animations.overlap !== undefined) {\n        this.animations.overlap = customOptions.animations.overlap;\n      }\n      if (customOptions.animations.hide !== undefined) {\n        Object.assign(this.animations.hide, customOptions.animations.hide);\n      }\n      if (customOptions.animations.shift !== undefined) {\n        Object.assign(this.animations.shift, customOptions.animations.shift);\n      }\n      if (customOptions.animations.show !== undefined) {\n        Object.assign(this.animations.show, customOptions.animations.show);\n      }\n    }\n    if (customOptions.behaviour !== undefined) {\n      Object.assign(this.behaviour, customOptions.behaviour);\n    }\n    if (customOptions.position !== undefined) {\n      if (customOptions.position.horizontal !== undefined) {\n        Object.assign(this.position.horizontal, customOptions.position.horizontal);\n      }\n      if (customOptions.position.vertical !== undefined) {\n        Object.assign(this.position.vertical, customOptions.position.vertical);\n      }\n    }\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nimport { NotifierConfig, NotifierOptions } from './models/notifier-config.model';\n\n/**\n * Injection Token for notifier options\n */\nexport const NotifierOptionsToken: InjectionToken<NotifierOptions> = new InjectionToken<NotifierOptions>(\n  '[angular-notifier] Notifier Options',\n);\n\n/**\n * Injection Token for notifier configuration\n */\nexport const NotifierConfigToken: InjectionToken<NotifierConfig> = new InjectionToken<NotifierConfig>('[anuglar-notifier] Notifier Config');\n","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\nimport { NotifierAction } from '../models/notifier-action.model';\n\n/**\n * Notifier queue service\n *\n * In general, API calls don't get processed right away. Instead, we have to queue them up in order to prevent simultanious API calls\n * interfering with each other. This, at least in theory, is possible at any time. In particular, animations - which potentially overlap -\n * can cause changes in JS classes as well as affect the DOM. Therefore, the queue service takes all actions, puts them in a queue, and\n * processes them at the right time (which is when the previous action has been processed successfully).\n *\n * Technical sidenote:\n * An action looks pretty similar to the ones within the Flux / Redux pattern.\n */\n@Injectable()\nexport class NotifierQueueService {\n  /**\n   * Stream of actions, subscribable from outside\n   */\n  public readonly actionStream: Subject<NotifierAction>;\n\n  /**\n   * Queue of actions\n   */\n  private actionQueue: Array<NotifierAction>;\n\n  /**\n   * Flag, true if some action is currently in progress\n   */\n  private isActionInProgress: boolean;\n\n  /**\n   * Constructor\n   */\n  public constructor() {\n    this.actionStream = new Subject<NotifierAction>();\n    this.actionQueue = [];\n    this.isActionInProgress = false;\n  }\n\n  /**\n   * Push a new action to the queue, and try to run it\n   *\n   * @param action Action object\n   */\n  public push(action: NotifierAction): void {\n    this.actionQueue.push(action);\n    this.tryToRunNextAction();\n  }\n\n  /**\n   * Continue with the next action (called when the current action is finished)\n   */\n  public continue(): void {\n    this.isActionInProgress = false;\n    this.tryToRunNextAction();\n  }\n\n  /**\n   * Try to run the next action in the queue; we skip if there already is some action in progress, or if there is no action left\n   */\n  private tryToRunNextAction(): void {\n    if (this.isActionInProgress || this.actionQueue.length === 0) {\n      return; // Skip (the queue can now go drink a coffee as it has nothing to do anymore)\n    }\n    this.isActionInProgress = true;\n    this.actionStream.next(this.actionQueue.shift()); // Push next action to the stream, and remove the current action from the queue\n  }\n}\n","import { Inject, Injectable } from '@angular/core';\n\nimport { NotifierConfig } from '../models/notifier-config.model';\nimport { NotifierNotificationOptions } from '../models/notifier-notification.model';\nimport { NotifierConfigToken } from '../notifier.tokens';\nimport { NotifierQueueService } from './notifier-queue.service';\n\n/**\n * Notifier service\n *\n * This service provides access to the public notifier API. Once injected into a component, directive, pipe, service, or any other building\n * block of an applications, it can be used to show new notifications, and hide existing ones. Internally, it transforms API calls into\n * actions, which then get thrown into the action queue - eventually being processed at the right moment.\n */\n@Injectable()\nexport class NotifierService {\n  /**\n   * Notifier queue service\n   */\n  private readonly queueService: NotifierQueueService;\n\n  /**\n   * Notifier configuration\n   */\n  private readonly config: NotifierConfig;\n\n  /**\n   * Constructor\n   *\n   * @param notifierQueueService Notifier queue service\n   * @param config               Notifier configuration, optionally injected as a dependency\n   */\n  public constructor(notifierQueueService: NotifierQueueService, @Inject(NotifierConfigToken) config: NotifierConfig) {\n    this.queueService = notifierQueueService;\n    this.config = config;\n  }\n\n  /**\n   * Get the notifier configuration\n   *\n   * @returns Notifier configuration\n   */\n  public getConfig(): NotifierConfig {\n    return this.config;\n  }\n\n  /**\n   * API: Show a new notification\n   *\n   * @param notificationOptions Notification options\n   */\n  public show(notificationOptions: NotifierNotificationOptions): void {\n    this.queueService.push({\n      payload: notificationOptions,\n      type: 'SHOW',\n    });\n  }\n\n  /**\n   * API: Hide a specific notification, given its ID\n   *\n   * @param notificationId ID of the notification to hide\n   */\n  public hide(notificationId: string): void {\n    this.queueService.push({\n      payload: notificationId,\n      type: 'HIDE',\n    });\n  }\n\n  /**\n   * API: Hide the newest notification\n   */\n  public hideNewest(): void {\n    this.queueService.push({\n      type: 'HIDE_NEWEST',\n    });\n  }\n\n  /**\n   * API: Hide the oldest notification\n   */\n  public hideOldest(): void {\n    this.queueService.push({\n      type: 'HIDE_OLDEST',\n    });\n  }\n\n  /**\n   * API: Hide all notifications at once\n   */\n  public hideAll(): void {\n    this.queueService.push({\n      type: 'HIDE_ALL',\n    });\n  }\n\n  /**\n   * API: Shortcut for showing a new notification\n   *\n   * @param type             Type of the notification\n   * @param message          Message of the notification\n   * @param [notificationId] Unique ID for the notification (optional)\n   */\n  public notify(type: string, message: string, notificationId?: string): void {\n    const notificationOptions: NotifierNotificationOptions = {\n      message,\n      type,\n    };\n    if (notificationId !== undefined) {\n      notificationOptions.id = notificationId;\n    }\n    this.show(notificationOptions);\n  }\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { NotifierAction } from '../models/notifier-action.model';\nimport { NotifierConfig } from '../models/notifier-config.model';\nimport { NotifierNotification } from '../models/notifier-notification.model';\nimport { NotifierService } from '../services/notifier.service';\nimport { NotifierQueueService } from '../services/notifier-queue.service';\nimport { NotifierNotificationComponent } from './notifier-notification.component';\n\n/**\n * Notifier container component\n * ----------------------------\n * This component acts as a wrapper for all notification components; consequently, it is responsible for creating a new notification\n * component and removing an existing notification component. Being more precicely, it also handles side effects of those actions, such as\n * shifting or even completely removing other notifications as well. Overall, this components handles actions coming from the queue service\n * by subscribing to its action stream.\n *\n * Technical sidenote:\n * This component has to be used somewhere in an application to work; it will not inject and create itself automatically, primarily in order\n * to not break the Angular AoT compilation. Moreover, this component (and also the notification components) set their change detection\n * strategy onPush, which means that we handle change detection manually in order to get the best performance. (#perfmatters)\n */\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush, // (#perfmatters)\n  host: {\n    class: 'notifier__container',\n  },\n  selector: 'notifier-container',\n  templateUrl: './notifier-container.component.html',\n})\nexport class NotifierContainerComponent implements OnDestroy {\n  /**\n   * List of currently somewhat active notifications\n   */\n  public notifications: Array<NotifierNotification>;\n\n  /**\n   * Change detector\n   */\n  private readonly changeDetector: ChangeDetectorRef;\n\n  /**\n   * Notifier queue service\n   */\n  private readonly queueService: NotifierQueueService;\n\n  /**\n   * Notifier configuration\n   */\n  private readonly config: NotifierConfig;\n\n  /**\n   * Queue service observable subscription (saved for cleanup)\n   */\n  private queueServiceSubscription: Subscription;\n\n  /**\n   * Promise resolve function reference, temporarily used while the notification child component gets created\n   */\n  private tempPromiseResolver: () => void;\n\n  /**\n   * Constructor\n   *\n   * @param changeDetector       Change detector, used for manually triggering change detection runs\n   * @param notifierQueueService Notifier queue service\n   * @param notifierService      Notifier service\n   */\n  public constructor(changeDetector: ChangeDetectorRef, notifierQueueService: NotifierQueueService, notifierService: NotifierService) {\n    this.changeDetector = changeDetector;\n    this.queueService = notifierQueueService;\n    this.config = notifierService.getConfig();\n    this.notifications = [];\n\n    // Connects this component up to the action queue, then handle incoming actions\n    this.queueServiceSubscription = this.queueService.actionStream.subscribe((action: NotifierAction) => {\n      this.handleAction(action).then(() => {\n        this.queueService.continue();\n      });\n    });\n  }\n\n  /**\n   * Component destroyment lifecycle hook, cleans up the observable subsciption\n   */\n  public ngOnDestroy(): void {\n    if (this.queueServiceSubscription) {\n      this.queueServiceSubscription.unsubscribe();\n    }\n  }\n\n  /**\n   * Notification identifier, used as the ngFor trackby function\n   *\n   * @param   index        Index\n   * @param   notification Notifier notification\n   * @returns Notification ID as the unique identnfier\n   */\n  public identifyNotification(index: number, notification: NotifierNotification): string {\n    return notification.id;\n  }\n\n  /**\n   * Event handler, handles clicks on notification dismiss buttons\n   *\n   * @param notificationId ID of the notification to dismiss\n   */\n  public onNotificationDismiss(notificationId: string): void {\n    this.queueService.push({\n      payload: notificationId,\n      type: 'HIDE',\n    });\n  }\n\n  /**\n   * Event handler, handles notification ready events\n   *\n   * @param notificationComponent Notification component reference\n   */\n  public onNotificationReady(notificationComponent: NotifierNotificationComponent): void {\n    const currentNotification: NotifierNotification = this.notifications[this.notifications.length - 1]; // Get the latest notification\n    currentNotification.component = notificationComponent; // Save the new omponent reference\n    this.continueHandleShowAction(currentNotification); // Continue with handling the show action\n  }\n\n  /**\n   * Handle incoming actions by mapping action types to methods, and then running them\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleAction(action: NotifierAction): Promise<void> {\n    switch (\n      action.type // TODO: Maybe a map (actionType -> class method) is a cleaner solution here?\n    ) {\n      case 'SHOW':\n        return this.handleShowAction(action);\n      case 'HIDE':\n        return this.handleHideAction(action);\n      case 'HIDE_OLDEST':\n        return this.handleHideOldestAction(action);\n      case 'HIDE_NEWEST':\n        return this.handleHideNewestAction(action);\n      case 'HIDE_ALL':\n        return this.handleHideAllAction();\n      default:\n        return new Promise<void>((resolve: () => void) => {\n          resolve(); // Ignore unknown action types\n        });\n    }\n  }\n\n  /**\n   * Show a new notification\n   *\n   * We simply add the notification to the list, and then wait until its properly initialized / created / rendered.\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleShowAction(action: NotifierAction): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      this.tempPromiseResolver = resolve; // Save the promise resolve function so that it can be called later on by another method\n      this.addNotificationToList(new NotifierNotification(action.payload));\n    });\n  }\n\n  /**\n   * Continue to show a new notification (after the notification components is initialized / created / rendered).\n   *\n   * If this is the first (and thus only) notification, we can simply show it. Otherwhise, if stacking is disabled (or a low value), we\n   * switch out notifications, in particular we hide the existing one, and then show our new one. Yet, if stacking is enabled, we first\n   * shift all older notifications, and then show our new notification. In addition, if there are too many notification on the screen,\n   * we hide the oldest one first. Furthermore, if configured, animation overlapping is applied.\n   *\n   * @param notification New notification to show\n   */\n  private continueHandleShowAction(notification: NotifierNotification): void {\n    // First (which means only one) notification in the list?\n    const numberOfNotifications: number = this.notifications.length;\n    if (numberOfNotifications === 1) {\n      notification.component.show().then(this.tempPromiseResolver); // Done\n    } else {\n      const implicitStackingLimit = 2;\n\n      // Stacking enabled? (stacking value below 2 means stacking is disabled)\n      if (this.config.behaviour.stacking === false || this.config.behaviour.stacking < implicitStackingLimit) {\n        this.notifications[0].component.hide().then(() => {\n          this.removeNotificationFromList(this.notifications[0]);\n          notification.component.show().then(this.tempPromiseResolver); // Done\n        });\n      } else {\n        const stepPromises: Array<Promise<void>> = [];\n\n        // Are there now too many notifications?\n        if (numberOfNotifications > this.config.behaviour.stacking) {\n          const oldNotifications: Array<NotifierNotification> = this.notifications.slice(1, numberOfNotifications - 1);\n\n          // Are animations enabled?\n          if (this.config.animations.enabled) {\n            // Is animation overlap enabled?\n            if (this.config.animations.overlap !== false && this.config.animations.overlap > 0) {\n              stepPromises.push(this.notifications[0].component.hide());\n              setTimeout(() => {\n                stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n              }, this.config.animations.hide.speed - this.config.animations.overlap);\n              setTimeout(() => {\n                stepPromises.push(notification.component.show());\n              }, this.config.animations.hide.speed + this.config.animations.shift.speed - this.config.animations.overlap);\n            } else {\n              stepPromises.push(\n                new Promise<void>((resolve: () => void) => {\n                  this.notifications[0].component.hide().then(() => {\n                    this.shiftNotifications(oldNotifications, notification.component.getHeight(), true).then(() => {\n                      notification.component.show().then(resolve);\n                    });\n                  });\n                }),\n              );\n            }\n          } else {\n            stepPromises.push(this.notifications[0].component.hide());\n            stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n            stepPromises.push(notification.component.show());\n          }\n        } else {\n          const oldNotifications: Array<NotifierNotification> = this.notifications.slice(0, numberOfNotifications - 1);\n\n          // Are animations enabled?\n          if (this.config.animations.enabled) {\n            // Is animation overlap enabled?\n            if (this.config.animations.overlap !== false && this.config.animations.overlap > 0) {\n              stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n              setTimeout(() => {\n                stepPromises.push(notification.component.show());\n              }, this.config.animations.shift.speed - this.config.animations.overlap);\n            } else {\n              stepPromises.push(\n                new Promise<void>((resolve: () => void) => {\n                  this.shiftNotifications(oldNotifications, notification.component.getHeight(), true).then(() => {\n                    notification.component.show().then(resolve);\n                  });\n                }),\n              );\n            }\n          } else {\n            stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), true));\n            stepPromises.push(notification.component.show());\n          }\n        }\n\n        Promise.all(stepPromises).then(() => {\n          if (numberOfNotifications > this.config.behaviour.stacking) {\n            this.removeNotificationFromList(this.notifications[0]);\n          }\n          this.tempPromiseResolver();\n        }); // Done\n      }\n    }\n  }\n\n  /**\n   * Hide an existing notification\n   *\n   * Fist, we skip everything if there are no notifications at all, or the given notification does not exist. Then, we hide the given\n   * notification. If there exist older notifications, we then shift them around to fill the gap. Once both hiding the given notification\n   * and shifting the older notificaitons is done, the given notification gets finally removed (from the DOM).\n   *\n   * @param   action Action object, payload contains the notification ID\n   * @returns Promise, resolved when done\n   */\n  private handleHideAction(action: NotifierAction): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      const stepPromises: Array<Promise<void>> = [];\n\n      // Does the notification exist / are there even any notifications? (let's prevent accidential errors)\n      const notification: NotifierNotification | undefined = this.findNotificationById(action.payload);\n      if (notification === undefined) {\n        resolve();\n        return;\n      }\n\n      // Get older notifications\n      const notificationIndex: number | undefined = this.findNotificationIndexById(action.payload);\n      if (notificationIndex === undefined) {\n        resolve();\n        return;\n      }\n      const oldNotifications: Array<NotifierNotification> = this.notifications.slice(0, notificationIndex);\n\n      // Do older notifications exist, and thus do we need to shift other notifications as a consequence?\n      if (oldNotifications.length > 0) {\n        // Are animations enabled?\n        if (this.config.animations.enabled && this.config.animations.hide.speed > 0) {\n          // Is animation overlap enabled?\n          if (this.config.animations.overlap !== false && this.config.animations.overlap > 0) {\n            stepPromises.push(notification.component.hide());\n            setTimeout(() => {\n              stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), false));\n            }, this.config.animations.hide.speed - this.config.animations.overlap);\n          } else {\n            notification.component.hide().then(() => {\n              stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), false));\n            });\n          }\n        } else {\n          stepPromises.push(notification.component.hide());\n          stepPromises.push(this.shiftNotifications(oldNotifications, notification.component.getHeight(), false));\n        }\n      } else {\n        stepPromises.push(notification.component.hide());\n      }\n\n      // Wait until both hiding and shifting is done, then remove the notification from the list\n      Promise.all(stepPromises).then(() => {\n        this.removeNotificationFromList(notification);\n        resolve(); // Done\n      });\n    });\n  }\n\n  /**\n   * Hide the oldest notification (bridge to handleHideAction)\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleHideOldestAction(action: NotifierAction): Promise<void> {\n    // Are there any notifications? (prevent accidential errors)\n    if (this.notifications.length === 0) {\n      return new Promise<void>((resolve: () => void) => {\n        resolve();\n      }); // Done\n    } else {\n      action.payload = this.notifications[0].id;\n      return this.handleHideAction(action);\n    }\n  }\n\n  /**\n   * Hide the newest notification (bridge to handleHideAction)\n   *\n   * @param   action Action object\n   * @returns Promise, resolved when done\n   */\n  private handleHideNewestAction(action: NotifierAction): Promise<void> {\n    // Are there any notifications? (prevent accidential errors)\n    if (this.notifications.length === 0) {\n      return new Promise<void>((resolve: () => void) => {\n        resolve();\n      }); // Done\n    } else {\n      action.payload = this.notifications[this.notifications.length - 1].id;\n      return this.handleHideAction(action);\n    }\n  }\n\n  /**\n   * Hide all notifications at once\n   *\n   * @returns Promise, resolved when done\n   */\n  private handleHideAllAction(): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      // Are there any notifications? (prevent accidential errors)\n      const numberOfNotifications: number = this.notifications.length;\n      if (numberOfNotifications === 0) {\n        resolve(); // Done\n        return;\n      }\n\n      // Are animations enabled?\n      if (\n        this.config.animations.enabled &&\n        this.config.animations.hide.speed > 0 &&\n        this.config.animations.hide.offset !== false &&\n        this.config.animations.hide.offset > 0\n      ) {\n        for (let i: number = numberOfNotifications - 1; i >= 0; i--) {\n          const animationOffset: number = this.config.position.vertical.position === 'top' ? numberOfNotifications - 1 : i;\n          setTimeout(() => {\n            this.notifications[i].component.hide().then(() => {\n              // Are we done here, was this the last notification to be hidden?\n              if (\n                (this.config.position.vertical.position === 'top' && i === 0) ||\n                (this.config.position.vertical.position === 'bottom' && i === numberOfNotifications - 1)\n              ) {\n                this.removeAllNotificationsFromList();\n                resolve(); // Done\n              }\n            });\n          }, this.config.animations.hide.offset * animationOffset);\n        }\n      } else {\n        const stepPromises: Array<Promise<void>> = [];\n        for (let i: number = numberOfNotifications - 1; i >= 0; i--) {\n          stepPromises.push(this.notifications[i].component.hide());\n        }\n        Promise.all(stepPromises).then(() => {\n          this.removeAllNotificationsFromList();\n          resolve(); // Done\n        });\n      }\n    });\n  }\n\n  /**\n   * Shift multiple notifications at once\n   *\n   * @param   notifications List containing the notifications to be shifted\n   * @param   distance      Distance to shift (in px)\n   * @param   toMakePlace   Flag, defining in which direciton to shift\n   * @returns Promise, resolved when done\n   */\n  private shiftNotifications(notifications: Array<NotifierNotification>, distance: number, toMakePlace: boolean): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      // Are there any notifications to shift?\n      if (notifications.length === 0) {\n        resolve();\n        return;\n      }\n\n      const notificationPromises: Array<Promise<void>> = [];\n      for (let i: number = notifications.length - 1; i >= 0; i--) {\n        notificationPromises.push(notifications[i].component.shift(distance, toMakePlace));\n      }\n      Promise.all(notificationPromises).then(resolve); // Done\n    });\n  }\n\n  /**\n   * Add a new notification to the list of notifications (triggers change detection)\n   *\n   * @param notification Notification to add to the list of notifications\n   */\n  private addNotificationToList(notification: NotifierNotification): void {\n    this.notifications.push(notification);\n    this.changeDetector.markForCheck(); // Run change detection because the notification list changed\n  }\n\n  /**\n   * Remove an existing notification from the list of notifications (triggers change detection)\n   *\n   * @param notification Notification to be removed from the list of notifications\n   */\n  private removeNotificationFromList(notification: NotifierNotification): void {\n    this.notifications = this.notifications.filter((item: NotifierNotification) => item.component !== notification.component);\n    this.changeDetector.markForCheck(); // Run change detection because the notification list changed\n  }\n\n  /**\n   * Remove all notifications from the list (triggers change detection)\n   */\n  private removeAllNotificationsFromList(): void {\n    this.notifications = [];\n    this.changeDetector.markForCheck(); // Run change detection because the notification list changed\n  }\n\n  /**\n   * Helper: Find a notification in the notification list by a given notification ID\n   *\n   * @param   notificationId Notification ID, used for finding notification\n   * @returns Notification, undefined if not found\n   */\n  private findNotificationById(notificationId: string): NotifierNotification | undefined {\n    return this.notifications.find((currentNotification: NotifierNotification) => currentNotification.id === notificationId);\n  }\n\n  /**\n   * Helper: Find a notification's index by a given notification ID\n   *\n   * @param   notificationId Notification ID, used for finding a notification's index\n   * @returns Notification index, undefined if not found\n   */\n  private findNotificationIndexById(notificationId: string): number | undefined {\n    const notificationIndex: number = this.notifications.findIndex(\n      (currentNotification: NotifierNotification) => currentNotification.id === notificationId,\n    );\n    return notificationIndex !== -1 ? notificationIndex : undefined;\n  }\n}\n","import { NotifierAnimationPreset, NotifierAnimationPresetKeyframes } from '../models/notifier-animation.model';\n\n/**\n * Fade animation preset\n */\nexport const fade: NotifierAnimationPreset = {\n  hide: (): NotifierAnimationPresetKeyframes => {\n    return {\n      from: {\n        opacity: '1',\n      },\n      to: {\n        opacity: '0',\n      },\n    };\n  },\n  show: (): NotifierAnimationPresetKeyframes => {\n    return {\n      from: {\n        opacity: '0',\n      },\n      to: {\n        opacity: '1',\n      },\n    };\n  },\n};\n","import { NotifierAnimationPreset, NotifierAnimationPresetKeyframes } from '../models/notifier-animation.model';\nimport { NotifierConfig } from '../models/notifier-config.model';\nimport { NotifierNotification } from '../models/notifier-notification.model';\n\n/**\n * Slide animation preset\n */\nexport const slide: NotifierAnimationPreset = {\n  hide: (notification: NotifierNotification): NotifierAnimationPresetKeyframes => {\n    // Prepare variables\n    const config: NotifierConfig = notification.component.getConfig();\n    const shift: number = notification.component.getShift();\n    let from: {\n      [animatablePropertyName: string]: string;\n    };\n    let to: {\n      [animatablePropertyName: string]: string;\n    };\n\n    // Configure variables, depending on configuration and component\n    if (config.position.horizontal.position === 'left') {\n      from = {\n        transform: `translate3d( 0, ${shift}px, 0 )`,\n      };\n      to = {\n        transform: `translate3d( calc( -100% - ${config.position.horizontal.distance}px - 10px ), ${shift}px, 0 )`,\n      };\n    } else if (config.position.horizontal.position === 'right') {\n      from = {\n        transform: `translate3d( 0, ${shift}px, 0 )`,\n      };\n      to = {\n        transform: `translate3d( calc( 100% + ${config.position.horizontal.distance}px + 10px ), ${shift}px, 0 )`,\n      };\n    } else {\n      let horizontalPosition: string;\n      if (config.position.vertical.position === 'top') {\n        horizontalPosition = `calc( -100% - ${config.position.horizontal.distance}px - 10px )`;\n      } else {\n        horizontalPosition = `calc( 100% + ${config.position.horizontal.distance}px + 10px )`;\n      }\n      from = {\n        transform: `translate3d( -50%, ${shift}px, 0 )`,\n      };\n      to = {\n        transform: `translate3d( -50%, ${horizontalPosition}, 0 )`,\n      };\n    }\n\n    // Done\n    return {\n      from,\n      to,\n    };\n  },\n  show: (notification: NotifierNotification): NotifierAnimationPresetKeyframes => {\n    // Prepare variables\n    const config: NotifierConfig = notification.component.getConfig();\n    let from: {\n      [animatablePropertyName: string]: string;\n    };\n    let to: {\n      [animatablePropertyName: string]: string;\n    };\n\n    // Configure variables, depending on configuration and component\n    if (config.position.horizontal.position === 'left') {\n      from = {\n        transform: `translate3d( calc( -100% - ${config.position.horizontal.distance}px - 10px ), 0, 0 )`,\n      };\n      to = {\n        transform: 'translate3d( 0, 0, 0 )',\n      };\n    } else if (config.position.horizontal.position === 'right') {\n      from = {\n        transform: `translate3d( calc( 100% + ${config.position.horizontal.distance}px + 10px ), 0, 0 )`,\n      };\n      to = {\n        transform: 'translate3d( 0, 0, 0 )',\n      };\n    } else {\n      let horizontalPosition: string;\n      if (config.position.vertical.position === 'top') {\n        horizontalPosition = `calc( -100% - ${config.position.horizontal.distance}px - 10px )`;\n      } else {\n        horizontalPosition = `calc( 100% + ${config.position.horizontal.distance}px + 10px )`;\n      }\n      from = {\n        transform: `translate3d( -50%, ${horizontalPosition}, 0 )`,\n      };\n      to = {\n        transform: 'translate3d( -50%, 0, 0 )',\n      };\n    }\n\n    // Done\n    return {\n      from,\n      to,\n    };\n  },\n};\n","import { Injectable } from '@angular/core';\n\nimport { fade } from '../animation-presets/fade.animation-preset';\nimport { slide } from '../animation-presets/slide.animation-preset';\nimport { NotifierAnimationData, NotifierAnimationPreset, NotifierAnimationPresetKeyframes } from '../models/notifier-animation.model';\nimport { NotifierNotification } from '../models/notifier-notification.model';\n\n/**\n * Notifier animation service\n */\n@Injectable()\nexport class NotifierAnimationService {\n  /**\n   * List of animation presets (currently static)\n   */\n  private readonly animationPresets: {\n    [animationPresetName: string]: NotifierAnimationPreset;\n  };\n\n  /**\n   * Constructor\n   */\n  public constructor() {\n    this.animationPresets = {\n      fade,\n      slide,\n    };\n  }\n\n  /**\n   * Get animation data\n   *\n   * This method generates all data the Web Animations API needs to animate our notification. The result depends on both the animation\n   * direction (either in or out) as well as the notifications (and its attributes) itself.\n   *\n   * @param   direction    Animation direction, either in or out\n   * @param   notification Notification the animation data should be generated for\n   * @returns Animation information\n   */\n  public getAnimationData(direction: 'show' | 'hide', notification: NotifierNotification): NotifierAnimationData {\n    // Get all necessary animation data\n    let keyframes: NotifierAnimationPresetKeyframes;\n    let duration: number;\n    let easing: string;\n    if (direction === 'show') {\n      keyframes = this.animationPresets[notification.component.getConfig().animations.show.preset].show(notification);\n      duration = notification.component.getConfig().animations.show.speed;\n      easing = notification.component.getConfig().animations.show.easing;\n    } else {\n      keyframes = this.animationPresets[notification.component.getConfig().animations.hide.preset].hide(notification);\n      duration = notification.component.getConfig().animations.hide.speed;\n      easing = notification.component.getConfig().animations.hide.easing;\n    }\n\n    // Build and return animation data\n    return {\n      keyframes: [keyframes.from, keyframes.to],\n      options: {\n        duration,\n        easing,\n        fill: 'forwards', // Keep the newly painted state after the animation finished\n      },\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\n\n/**\n * Notifier timer service\n *\n * This service acts as a timer, needed due to the still rather limited setTimeout JavaScript API. The timer service can start and stop a\n * timer. Furthermore, it can also pause the timer at any time, and resume later on. The timer API workd promise-based.\n */\n@Injectable()\nexport class NotifierTimerService {\n  /**\n   * Timestamp (in ms), created in the moment the timer starts\n   */\n  private now: number;\n\n  /**\n   * Remaining time (in ms)\n   */\n  private remaining: number;\n\n  /**\n   * Timeout ID, used for clearing the timeout later on\n   */\n  private timerId: number;\n\n  /**\n   * Promise resolve function, eventually getting called once the timer finishes\n   */\n  private finishPromiseResolver: () => void;\n\n  /**\n   * Constructor\n   */\n  public constructor() {\n    this.now = 0;\n    this.remaining = 0;\n  }\n\n  /**\n   * Start (or resume) the timer\n   *\n   * @param   duration Timer duration, in ms\n   * @returns          Promise, resolved once the timer finishes\n   */\n  public start(duration: number): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      // For the first run ...\n      this.remaining = duration;\n\n      // Setup, then start the timer\n      this.finishPromiseResolver = resolve;\n      this.continue();\n    });\n  }\n\n  /**\n   * Pause the timer\n   */\n  public pause(): void {\n    clearTimeout(this.timerId);\n    this.remaining -= new Date().getTime() - this.now;\n  }\n\n  /**\n   * Continue the timer\n   */\n  public continue(): void {\n    this.now = new Date().getTime();\n    this.timerId = window.setTimeout(() => {\n      this.finish();\n    }, this.remaining);\n  }\n\n  /**\n   * Stop the timer\n   */\n  public stop(): void {\n    clearTimeout(this.timerId);\n    this.remaining = 0;\n  }\n\n  /**\n   * Finish up the timeout by resolving the timer promise\n   */\n  private finish(): void {\n    this.finishPromiseResolver();\n  }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, EventEmitter, Input, Output, Renderer2 } from '@angular/core';\n\nimport { NotifierAnimationData } from '../models/notifier-animation.model';\nimport { NotifierConfig } from '../models/notifier-config.model';\nimport { NotifierNotification } from '../models/notifier-notification.model';\nimport { NotifierService } from '../services/notifier.service';\nimport { NotifierAnimationService } from '../services/notifier-animation.service';\nimport { NotifierTimerService } from '../services/notifier-timer.service';\n\n/**\n * Notifier notification component\n * -------------------------------\n * This component is responsible for actually displaying the notification on screen. In addition, it's able to show and hide this\n * notification, in particular to animate this notification in and out, as well as shift (move) this notification vertically around.\n * Furthermore, the notification component handles all interactions the user has with this notification / component, such as clicks and\n * mouse movements.\n */\n@Component({\n  changeDetection: ChangeDetectionStrategy.OnPush, // (#perfmatters)\n  host: {\n    '(click)': 'onNotificationClick()',\n    '(mouseout)': 'onNotificationMouseout()',\n    '(mouseover)': 'onNotificationMouseover()',\n    class: 'notifier__notification',\n  },\n  providers: [\n    // We provide the timer to the component's local injector, so that every notification components gets its own\n    // instance of the timer service, thus running their timers independently from each other\n    NotifierTimerService,\n  ],\n  selector: 'notifier-notification',\n  templateUrl: './notifier-notification.component.html',\n})\nexport class NotifierNotificationComponent implements AfterViewInit {\n  /**\n   * Input: Notification object, contains all details necessary to construct the notification\n   */\n  @Input()\n  public notification: NotifierNotification;\n\n  /**\n   * Output: Ready event, handles the initialization success by emitting a reference to this notification component\n   */\n  @Output()\n  public ready: EventEmitter<NotifierNotificationComponent>;\n\n  /**\n   * Output: Dismiss event, handles the click on the dismiss button by emitting the notification ID of this notification component\n   */\n  @Output()\n  public dismiss: EventEmitter<string>;\n\n  /**\n   * Notifier configuration\n   */\n  public readonly config: NotifierConfig;\n\n  /**\n   * Notifier timer service\n   */\n  private readonly timerService: NotifierTimerService;\n\n  /**\n   * Notifier animation service\n   */\n  private readonly animationService: NotifierAnimationService;\n\n  /**\n   * Angular renderer, used to preserve the overall DOM abstraction & independence\n   */\n  private readonly renderer: Renderer2;\n\n  /**\n   * Native element reference, used for manipulating DOM properties\n   */\n  private readonly element: HTMLElement;\n\n  /**\n   * Current notification height, calculated and cached here (#perfmatters)\n   */\n  private elementHeight: number;\n\n  /**\n   * Current notification width, calculated and cached here (#perfmatters)\n   */\n  private elementWidth: number;\n\n  /**\n   * Current notification shift, calculated and cached here (#perfmatters)\n   */\n  private elementShift: number;\n\n  /**\n   * Constructor\n   *\n   * @param elementRef               Reference to the component's element\n   * @param renderer                 Angular renderer\n   * @param notifierService          Notifier service\n   * @param notifierTimerService     Notifier timer service\n   * @param notifierAnimationService Notifier animation service\n   */\n  public constructor(\n    elementRef: ElementRef,\n    renderer: Renderer2,\n    notifierService: NotifierService,\n    notifierTimerService: NotifierTimerService,\n    notifierAnimationService: NotifierAnimationService,\n  ) {\n    this.config = notifierService.getConfig();\n    this.ready = new EventEmitter<NotifierNotificationComponent>();\n    this.dismiss = new EventEmitter<string>();\n    this.timerService = notifierTimerService;\n    this.animationService = notifierAnimationService;\n    this.renderer = renderer;\n    this.element = elementRef.nativeElement;\n    this.elementShift = 0;\n  }\n\n  /**\n   * Component after view init lifecycle hook, setts up the component and then emits the ready event\n   */\n  public ngAfterViewInit(): void {\n    this.setup();\n    this.elementHeight = this.element.offsetHeight;\n    this.elementWidth = this.element.offsetWidth;\n    this.ready.emit(this);\n  }\n\n  /**\n   * Get the notifier config\n   *\n   * @returns Notifier configuration\n   */\n  public getConfig(): NotifierConfig {\n    return this.config;\n  }\n\n  /**\n   * Get notification element height (in px)\n   *\n   * @returns Notification element height (in px)\n   */\n  public getHeight(): number {\n    return this.elementHeight;\n  }\n\n  /**\n   * Get notification element width (in px)\n   *\n   * @returns Notification element height (in px)\n   */\n  public getWidth(): number {\n    return this.elementWidth;\n  }\n\n  /**\n   * Get notification shift offset (in px)\n   *\n   * @returns Notification element shift offset (in px)\n   */\n  public getShift(): number {\n    return this.elementShift;\n  }\n\n  /**\n   * Show (animate in) this notification\n   *\n   * @returns Promise, resolved when done\n   */\n  public show(): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.show.speed > 0) {\n        // Get animation data\n        const animationData: NotifierAnimationData = this.animationService.getAnimationData('show', this.notification);\n\n        // Set initial styles (styles before animation), prevents quick flicker when animation starts\n        const animatedProperties: Array<string> = Object.keys(animationData.keyframes[0]);\n        for (let i: number = animatedProperties.length - 1; i >= 0; i--) {\n          this.renderer.setStyle(this.element, animatedProperties[i], animationData.keyframes[0][animatedProperties[i]]);\n        }\n\n        // Animate notification in\n        this.renderer.setStyle(this.element, 'visibility', 'visible');\n        const animation: Animation = this.element.animate(animationData.keyframes, animationData.options);\n        animation.onfinish = () => {\n          this.startAutoHideTimer();\n          resolve(); // Done\n        };\n      } else {\n        // Show notification\n        this.renderer.setStyle(this.element, 'visibility', 'visible');\n        this.startAutoHideTimer();\n        resolve(); // Done\n      }\n    });\n  }\n\n  /**\n   * Hide (animate out) this notification\n   *\n   * @returns Promise, resolved when done\n   */\n  public hide(): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      this.stopAutoHideTimer();\n\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.hide.speed > 0) {\n        const animationData: NotifierAnimationData = this.animationService.getAnimationData('hide', this.notification);\n        const animation: Animation = this.element.animate(animationData.keyframes, animationData.options);\n        animation.onfinish = () => {\n          resolve(); // Done\n        };\n      } else {\n        resolve(); // Done\n      }\n    });\n  }\n\n  /**\n   * Shift (move) this notification\n   *\n   * @param   distance         Distance to shift (in px)\n   * @param   shiftToMakePlace Flag, defining in which direction to shift\n   * @returns Promise, resolved when done\n   */\n  public shift(distance: number, shiftToMakePlace: boolean): Promise<void> {\n    return new Promise<void>((resolve: () => void) => {\n      // Calculate new position (position after the shift)\n      let newElementShift: number;\n      if (\n        (this.config.position.vertical.position === 'top' && shiftToMakePlace) ||\n        (this.config.position.vertical.position === 'bottom' && !shiftToMakePlace)\n      ) {\n        newElementShift = this.elementShift + distance + this.config.position.vertical.gap;\n      } else {\n        newElementShift = this.elementShift - distance - this.config.position.vertical.gap;\n      }\n      const horizontalPosition: string = this.config.position.horizontal.position === 'middle' ? '-50%' : '0';\n\n      // Are animations enabled?\n      if (this.config.animations.enabled && this.config.animations.shift.speed > 0) {\n        const animationData: NotifierAnimationData = {\n          // TODO: Extract into animation service\n          keyframes: [\n            {\n              transform: `translate3d( ${horizontalPosition}, ${this.elementShift}px, 0 )`,\n            },\n            {\n              transform: `translate3d( ${horizontalPosition}, ${newElementShift}px, 0 )`,\n            },\n          ],\n          options: {\n            duration: this.config.animations.shift.speed,\n            easing: this.config.animations.shift.easing,\n            fill: 'forwards',\n          },\n        };\n        this.elementShift = newElementShift;\n        const animation: Animation = this.element.animate(animationData.keyframes, animationData.options);\n        animation.onfinish = () => {\n          resolve(); // Done\n        };\n      } else {\n        this.renderer.setStyle(this.element, 'transform', `translate3d( ${horizontalPosition}, ${newElementShift}px, 0 )`);\n        this.elementShift = newElementShift;\n        resolve(); // Done\n      }\n    });\n  }\n\n  /**\n   * Handle click on dismiss button\n   */\n  public onClickDismiss(): void {\n    this.dismiss.emit(this.notification.id);\n  }\n\n  /**\n   * Handle mouseover over notification area\n   */\n  public onNotificationMouseover(): void {\n    if (this.config.behaviour.onMouseover === 'pauseAutoHide') {\n      this.pauseAutoHideTimer();\n    } else if (this.config.behaviour.onMouseover === 'resetAutoHide') {\n      this.stopAutoHideTimer();\n    }\n  }\n\n  /**\n   * Handle mouseout from notification area\n   */\n  public onNotificationMouseout(): void {\n    if (this.config.behaviour.onMouseover === 'pauseAutoHide') {\n      this.continueAutoHideTimer();\n    } else if (this.config.behaviour.onMouseover === 'resetAutoHide') {\n      this.startAutoHideTimer();\n    }\n  }\n\n  /**\n   * Handle click on notification area\n   */\n  public onNotificationClick(): void {\n    if (this.config.behaviour.onClick === 'hide') {\n      this.onClickDismiss();\n    }\n  }\n\n  /**\n   * Start the auto hide timer (if enabled)\n   */\n  private startAutoHideTimer(): void {\n    if (this.config.behaviour.autoHide !== false && this.config.behaviour.autoHide > 0) {\n      this.timerService.start(this.config.behaviour.autoHide).then(() => {\n        this.onClickDismiss();\n      });\n    }\n  }\n\n  /**\n   * Pause the auto hide timer (if enabled)\n   */\n  private pauseAutoHideTimer(): void {\n    if (this.config.behaviour.autoHide !== false && this.config.behaviour.autoHide > 0) {\n      this.timerService.pause();\n    }\n  }\n\n  /**\n   * Continue the auto hide timer (if enabled)\n   */\n  private continueAutoHideTimer(): void {\n    if (this.config.behaviour.autoHide !== false && this.config.behaviour.autoHide > 0) {\n      this.timerService.continue();\n    }\n  }\n\n  /**\n   * Stop the auto hide timer (if enabled)\n   */\n  private stopAutoHideTimer(): void {\n    if (this.config.behaviour.autoHide !== false && this.config.behaviour.autoHide > 0) {\n      this.timerService.stop();\n    }\n  }\n\n  /**\n   * Initial notification setup\n   */\n  private setup(): void {\n    // Set start position (initially the exact same for every new notification)\n    if (this.config.position.horizontal.position === 'left') {\n      this.renderer.setStyle(this.element, 'left', `${this.config.position.horizontal.distance}px`);\n    } else if (this.config.position.horizontal.position === 'right') {\n      this.renderer.setStyle(this.element, 'right', `${this.config.position.horizontal.distance}px`);\n    } else {\n      this.renderer.setStyle(this.element, 'left', '50%');\n      // Let's get the GPU handle some work as well (#perfmatters)\n      this.renderer.setStyle(this.element, 'transform', 'translate3d( -50%, 0, 0 )');\n    }\n    if (this.config.position.vertical.position === 'top') {\n      this.renderer.setStyle(this.element, 'top', `${this.config.position.vertical.distance}px`);\n    } else {\n      this.renderer.setStyle(this.element, 'bottom', `${this.config.position.vertical.distance}px`);\n    }\n\n    // Add classes (responsible for visual design)\n    this.renderer.addClass(this.element, `notifier__notification--${this.notification.type}`);\n    this.renderer.addClass(this.element, `notifier__notification--${this.config.theme}`);\n  }\n}\n","import { CommonModule } from '@angular/common';\nimport { ModuleWithProviders, NgModule } from '@angular/core';\n\nimport { NotifierContainerComponent } from './components/notifier-container.component';\nimport { NotifierNotificationComponent } from './components/notifier-notification.component';\nimport { NotifierConfig, NotifierOptions } from './models/notifier-config.model';\nimport { NotifierConfigToken, NotifierOptionsToken } from './notifier.tokens';\nimport { NotifierService } from './services/notifier.service';\nimport { NotifierAnimationService } from './services/notifier-animation.service';\nimport { NotifierQueueService } from './services/notifier-queue.service';\n\n/**\n * Factory for a notifier configuration with custom options\n *\n * Sidenote:\n * Required as Angular AoT compilation cannot handle dynamic functions; see <https://github.com/angular/angular/issues/11262>.\n *\n * @param   options - Custom notifier options\n * @returns - Notifier configuration as result\n */\nexport function notifierCustomConfigFactory(options: NotifierOptions): NotifierConfig {\n  return new NotifierConfig(options);\n}\n\n/**\n * Factory for a notifier configuration with default options\n *\n * Sidenote:\n * Required as Angular AoT compilation cannot handle dynamic functions; see <https://github.com/angular/angular/issues/11262>.\n *\n * @returns - Notifier configuration as result\n */\nexport function notifierDefaultConfigFactory(): NotifierConfig {\n  return new NotifierConfig({});\n}\n\n/**\n * Notifier module\n */\n@NgModule({\n  declarations: [NotifierContainerComponent, NotifierNotificationComponent],\n  exports: [NotifierContainerComponent],\n  imports: [CommonModule],\n  providers: [\n    NotifierAnimationService,\n    NotifierService,\n    NotifierQueueService,\n\n    // Provide the default notifier configuration if just the module is imported\n    {\n      provide: NotifierConfigToken,\n      useFactory: notifierDefaultConfigFactory,\n    },\n  ],\n})\nexport class NotifierModule {\n  /**\n   * Setup the notifier module with custom providers, in this case with a custom configuration based on the givne options\n   *\n   * @param   [options={}] - Custom notifier options\n   * @returns - Notifier module with custom providers\n   */\n  public static withConfig(options: NotifierOptions = {}): ModuleWithProviders<NotifierModule> {\n    return {\n      ngModule: NotifierModule,\n      providers: [\n        // Provide the options itself upfront (as we need to inject them as dependencies -- see below)\n        {\n          provide: NotifierOptionsToken,\n          useValue: options,\n        },\n\n        // Provide a custom notifier configuration, based on the given notifier options\n        {\n          deps: [NotifierOptionsToken],\n          provide: NotifierConfigToken,\n          useFactory: notifierCustomConfigFactory,\n        },\n      ],\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {NotifierAnimationService as c} from './lib/services/notifier-animation.service';\nexport {NotifierQueueService as a} from './lib/services/notifier-queue.service';\nexport {NotifierTimerService as b} from './lib/services/notifier-timer.service';"]}