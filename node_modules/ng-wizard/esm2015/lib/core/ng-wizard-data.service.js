import { __decorate, __metadata, __param } from "tslib";
import { Injectable, Optional, Inject } from '@angular/core';
import { Subject } from 'rxjs';
import { DEFAULT_CONFIG } from '../utils/constants';
import { NG_WIZARD_CONFIG_TOKEN } from './ng-wizard-config.token';
import { merge } from '../utils/functions';
import * as i0 from "@angular/core";
import * as i1 from "./ng-wizard-config.token";
import * as ɵngcc0 from '@angular/core';
let NgWizardDataService = class NgWizardDataService {
    constructor(config) {
        this.config = config;
        this._defaultConfig = Object.assign({}, DEFAULT_CONFIG);
        if (this.config) {
            this._defaultConfig = merge(this._defaultConfig, this.config);
        }
        // Observable sources
        this._resetWizard = new Subject();
        this._showNextStep = new Subject();
        this._showPreviousStep = new Subject();
        this._showStep = new Subject();
        this._setTheme = new Subject();
        this._stepChangedArgs = new Subject();
        // Observable streams
        this.resetWizard$ = this._resetWizard.asObservable();
        this.showNextStep$ = this._showNextStep.asObservable();
        this.showPreviousStep$ = this._showPreviousStep.asObservable();
        this.showStep$ = this._showStep.asObservable();
        this.setTheme$ = this._setTheme.asObservable();
        this.stepChangedArgs$ = this._stepChangedArgs.asObservable();
    }
    getDefaultConfig() {
        return Object.assign({}, this._defaultConfig);
    }
    resetWizard() {
        this._resetWizard.next();
    }
    showNextStep() {
        this._showNextStep.next();
    }
    showPreviousStep() {
        this._showPreviousStep.next();
    }
    showStep(index) {
        this._showStep.next(index);
    }
    setTheme(theme) {
        this._setTheme.next(theme);
    }
    stepChanged(args) {
        this._stepChangedArgs.next(args);
    }
};
NgWizardDataService.ɵfac = function NgWizardDataService_Factory(t) { return new (t || NgWizardDataService)(ɵngcc0.ɵɵinject(NG_WIZARD_CONFIG_TOKEN, 8)); };
NgWizardDataService.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [NG_WIZARD_CONFIG_TOKEN,] }] }
];
NgWizardDataService.ɵprov = i0.ɵɵdefineInjectable({ factory: function NgWizardDataService_Factory() { return new NgWizardDataService(i0.ɵɵinject(i1.NG_WIZARD_CONFIG_TOKEN, 8)); }, token: NgWizardDataService, providedIn: "root" });
NgWizardDataService = __decorate([ __param(0, Optional()), __param(0, Inject(NG_WIZARD_CONFIG_TOKEN)),
    __metadata("design:paramtypes", [Object])
], NgWizardDataService);
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgWizardDataService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: Optional
            }, {
                type: Inject,
                args: [NG_WIZARD_CONFIG_TOKEN]
            }] }]; }, null); })();
export { NgWizardDataService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctd2l6YXJkLWRhdGEuc2VydmljZS5qcyIsInNvdXJjZXMiOlsibmctd2l6YXJkL2xpYi9jb3JlL25nLXdpemFyZC1kYXRhLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RCxPQUFPLEVBQUUsT0FBTyxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUdsRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDM0M7QUFHQzs7QUFDRCxJQUFhLG1CQUFtQixHQUFoQyxNQUFhLG1CQUFtQjtBQUNoQyxJQWVFLFlBQWdFLE1BQXNCO0FBQ3hGLFFBRGtFLFdBQU0sR0FBTixNQUFNLENBQWdCO0FBQUMsUUFDckYsSUFBSSxDQUFDLGNBQWMscUJBQVEsY0FBYyxDQUFFLENBQUM7QUFDaEQsUUFBSSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDckIsWUFBTSxJQUFJLENBQUMsY0FBYyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNwRSxTQUFLO0FBQ0wsUUFDSSxxQkFBcUI7QUFDekIsUUFBSSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksT0FBTyxFQUFPLENBQUM7QUFDM0MsUUFBSSxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksT0FBTyxFQUFPLENBQUM7QUFDNUMsUUFBSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztBQUNoRCxRQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztBQUN4QyxRQUFJLElBQUksQ0FBQyxTQUFTLEdBQUcs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QSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBbERBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQWhCQSxBQUFBLEFBSEEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBaUJBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQWhCQSxBQUFBLEFBa0VBLEFBbEVBLEFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBPcHRpb25hbCwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IFN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcclxuXHJcbmltcG9ydCB7IERFRkFVTFRfQ09ORklHIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuaW1wb3J0IHsgTkdfV0laQVJEX0NPTkZJR19UT0tFTiB9IGZyb20gJy4vbmctd2l6YXJkLWNvbmZpZy50b2tlbic7XHJcbmltcG9ydCB7IE5nV2l6YXJkQ29uZmlnLCBTdGVwQ2hhbmdlZEFyZ3MgfSBmcm9tICcuLi91dGlscy9pbnRlcmZhY2VzJztcclxuaW1wb3J0IHsgVEhFTUUgfSBmcm9tICcuLi91dGlscy9lbnVtcyc7XHJcbmltcG9ydCB7IG1lcmdlIH0gZnJvbSAnLi4vdXRpbHMvZnVuY3Rpb25zJztcclxuXHJcbkBJbmplY3RhYmxlKHtcclxuICBwcm92aWRlZEluOiAncm9vdCdcclxufSlcclxuZXhwb3J0IGNsYXNzIE5nV2l6YXJkRGF0YVNlcnZpY2Uge1xyXG4gIHJlc2V0V2l6YXJkJDogT2JzZXJ2YWJsZTxhbnk+O1xyXG4gIHNob3dOZXh0U3RlcCQ6IE9ic2VydmFibGU8YW55PjtcclxuICBzaG93UHJldmlvdXNTdGVwJDogT2JzZXJ2YWJsZTxhbnk+O1xyXG4gIHNob3dTdGVwJDogT2JzZXJ2YWJsZTxudW1iZXI+O1xyXG4gIHNldFRoZW1lJDogT2JzZXJ2YWJsZTxUSEVNRT47XHJcbiAgc3RlcENoYW5nZWRBcmdzJDogT2JzZXJ2YWJsZTxTdGVwQ2hhbmdlZEFyZ3M+O1xyXG5cclxuICBwcml2YXRlIF9yZXNldFdpemFyZDogU3ViamVjdDxhbnk+O1xyXG4gIHByaXZhdGUgX3Nob3dOZXh0U3RlcDogU3ViamVjdDxhbnk+O1xyXG4gIHByaXZhdGUgX3Nob3dQcmV2aW91c1N0ZXA6IFN1YmplY3Q8YW55PjtcclxuICBwcml2YXRlIF9zaG93U3RlcDogU3ViamVjdDxudW1iZXI+O1xyXG4gIHByaXZhdGUgX3NldFRoZW1lOiBTdWJqZWN0PFRIRU1FPjtcclxuICBwcml2YXRlIF9zdGVwQ2hhbmdlZEFyZ3M6IFN1YmplY3Q8U3RlcENoYW5nZWRBcmdzPjtcclxuICBwcml2YXRlIF9kZWZhdWx0Q29uZmlnOiBOZ1dpemFyZENvbmZpZztcclxuXHJcbiAgY29uc3RydWN0b3IoQE9wdGlvbmFsKCkgQEluamVjdChOR19XSVpBUkRfQ09ORklHX1RPS0VOKSBwcml2YXRlIGNvbmZpZzogTmdXaXphcmRDb25maWcpIHtcclxuICAgIHRoaXMuX2RlZmF1bHRDb25maWcgPSB7IC4uLkRFRkFVTFRfQ09ORklHIH07XHJcbiAgICBpZiAodGhpcy5jb25maWcpIHtcclxuICAgICAgdGhpcy5fZGVmYXVsdENvbmZpZyA9IG1lcmdlKHRoaXMuX2RlZmF1bHRDb25maWcsIHRoaXMuY29uZmlnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnNlcnZhYmxlIHNvdXJjZXNcclxuICAgIHRoaXMuX3Jlc2V0V2l6YXJkID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgdGhpcy5fc2hvd05leHRTdGVwID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgdGhpcy5fc2hvd1ByZXZpb3VzU3RlcCA9IG5ldyBTdWJqZWN0PGFueT4oKTtcclxuICAgIHRoaXMuX3Nob3dTdGVwID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgdGhpcy5fc2V0VGhlbWUgPSBuZXcgU3ViamVjdDxUSEVNRT4oKTtcclxuICAgIHRoaXMuX3N0ZXBDaGFuZ2VkQXJncyA9IG5ldyBTdWJqZWN0PFN0ZXBDaGFuZ2VkQXJncz4oKTtcclxuXHJcbiAgICAvLyBPYnNlcnZhYmxlIHN0cmVhbXNcclxuICAgIHRoaXMucmVzZXRXaXphcmQkID0gdGhpcy5fcmVzZXRXaXphcmQuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICB0aGlzLnNob3dOZXh0U3RlcCQgPSB0aGlzLl9zaG93TmV4dFN0ZXAuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICB0aGlzLnNob3dQcmV2aW91c1N0ZXAkID0gdGhpcy5fc2hvd1ByZXZpb3VzU3RlcC5hc09ic2VydmFibGUoKTtcclxuICAgIHRoaXMuc2hvd1N0ZXAkID0gdGhpcy5fc2hvd1N0ZXAuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICB0aGlzLnNldFRoZW1lJCA9IHRoaXMuX3NldFRoZW1lLmFzT2JzZXJ2YWJsZSgpO1xyXG4gICAgdGhpcy5zdGVwQ2hhbmdlZEFyZ3MkID0gdGhpcy5fc3RlcENoYW5nZWRBcmdzLmFzT2JzZXJ2YWJsZSgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0RGVmYXVsdENvbmZpZygpOiBOZ1dpemFyZENvbmZpZyB7XHJcbiAgICByZXR1cm4geyAuLi50aGlzLl9kZWZhdWx0Q29uZmlnIH07XHJcbiAgfVxyXG5cclxuICByZXNldFdpemFyZCgpIHtcclxuICAgIHRoaXMuX3Jlc2V0V2l6YXJkLm5leHQoKTtcclxuICB9XHJcblxyXG4gIHNob3dOZXh0U3RlcCgpIHtcclxuICAgIHRoaXMuX3Nob3dOZXh0U3RlcC5uZXh0KCk7XHJcbiAgfVxyXG5cclxuICBzaG93UHJldmlvdXNTdGVwKCkge1xyXG4gICAgdGhpcy5fc2hvd1ByZXZpb3VzU3RlcC5uZXh0KCk7XHJcbiAgfVxyXG5cclxuICBzaG93U3RlcChpbmRleDogbnVtYmVyKSB7XHJcbiAgICB0aGlzLl9zaG93U3RlcC5uZXh0KGluZGV4KTtcclxuICB9XHJcblxyXG4gIHNldFRoZW1lKHRoZW1lOiBUSEVNRSkge1xyXG4gICAgdGhpcy5fc2V0VGhlbWUubmV4dCh0aGVtZSk7XHJcbiAgfVxyXG5cclxuICBzdGVwQ2hhbmdlZChhcmdzOiBTdGVwQ2hhbmdlZEFyZ3MpIHtcclxuICAgIHRoaXMuX3N0ZXBDaGFuZ2VkQXJncy5uZXh0KGFyZ3MpO1xyXG4gIH1cclxufVxyXG4iXX0=