import { __assign, __decorate, __metadata, __param } from "tslib";
import { Injectable, Optional, Inject } from '@angular/core';
import { Subject } from 'rxjs';
import { DEFAULT_CONFIG } from '../utils/constants';
import { NG_WIZARD_CONFIG_TOKEN } from './ng-wizard-config.token';
import { merge } from '../utils/functions';
import * as i0 from "@angular/core";
import * as i1 from "./ng-wizard-config.token";
import * as ɵngcc0 from '@angular/core';
var NgWizardDataService = /** @class */ (function () {
    function NgWizardDataService(config) {
        this.config = config;
        this._defaultConfig = __assign({}, DEFAULT_CONFIG);
        if (this.config) {
            this._defaultConfig = merge(this._defaultConfig, this.config);
        }
        // Observable sources
        this._resetWizard = new Subject();
        this._showNextStep = new Subject();
        this._showPreviousStep = new Subject();
        this._showStep = new Subject();
        this._setTheme = new Subject();
        this._stepChangedArgs = new Subject();
        // Observable streams
        this.resetWizard$ = this._resetWizard.asObservable();
        this.showNextStep$ = this._showNextStep.asObservable();
        this.showPreviousStep$ = this._showPreviousStep.asObservable();
        this.showStep$ = this._showStep.asObservable();
        this.setTheme$ = this._setTheme.asObservable();
        this.stepChangedArgs$ = this._stepChangedArgs.asObservable();
    }
    NgWizardDataService.prototype.getDefaultConfig = function () {
        return __assign({}, this._defaultConfig);
    };
    NgWizardDataService.prototype.resetWizard = function () {
        this._resetWizard.next();
    };
    NgWizardDataService.prototype.showNextStep = function () {
        this._showNextStep.next();
    };
    NgWizardDataService.prototype.showPreviousStep = function () {
        this._showPreviousStep.next();
    };
    NgWizardDataService.prototype.showStep = function (index) {
        this._showStep.next(index);
    };
    NgWizardDataService.prototype.setTheme = function (theme) {
        this._setTheme.next(theme);
    };
    NgWizardDataService.prototype.stepChanged = function (args) {
        this._stepChangedArgs.next(args);
    };
    NgWizardDataService.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Optional }, { type: Inject, args: [NG_WIZARD_CONFIG_TOKEN,] }] }
    ]; };
    NgWizardDataService.ɵprov = i0.ɵɵdefineInjectable({ factory: function NgWizardDataService_Factory() { return new NgWizardDataService(i0.ɵɵinject(i1.NG_WIZARD_CONFIG_TOKEN, 8)); }, token: NgWizardDataService, providedIn: "root" });
    NgWizardDataService = __decorate([ __param(0, Optional()), __param(0, Inject(NG_WIZARD_CONFIG_TOKEN)),
        __metadata("design:paramtypes", [Object])
    ], NgWizardDataService);
NgWizardDataService.ɵfac = function NgWizardDataService_Factory(t) { return new (t || NgWizardDataService)(ɵngcc0.ɵɵinject(NG_WIZARD_CONFIG_TOKEN, 8)); };
/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(NgWizardDataService, [{
        type: Injectable,
        args: [{
                providedIn: 'root'
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: Optional
            }, {
                type: Inject,
                args: [NG_WIZARD_CONFIG_TOKEN]
            }] }]; }, null); })();
    return NgWizardDataService;
}());
export { NgWizardDataService };
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmctd2l6YXJkLWRhdGEuc2VydmljZS5qcyIsInNvdXJjZXMiOlsibmctd2l6YXJkL2xpYi9jb3JlL25nLXdpemFyZC1kYXRhLnNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUM3RCxPQUFPLEVBQUUsT0FBTyxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBRTNDLE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUNwRCxPQUFPLEVBQUUsc0JBQXNCLEVBQUUsTUFBTSwwQkFBMEIsQ0FBQztBQUdsRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDM0M7QUFHQzs7QUFDRDtBQUNvQixJQWVsQiw2QkFBZ0UsTUFBc0I7QUFDeEYsUUFEa0UsV0FBTSxHQUFOLE1BQU0sQ0FBZ0I7QUFBQyxRQUNyRixJQUFJLENBQUMsY0FBYyxnQkFBUSxjQUFjLENBQUUsQ0FBQztBQUNoRCxRQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRTtBQUNyQixZQUFNLElBQUksQ0FBQyxjQUFjLEdBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ3BFLFNBQUs7QUFDTCxRQUNJLHFCQUFxQjtBQUN6QixRQUFJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztBQUMzQyxRQUFJLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxPQUFPLEVBQU8sQ0FBQztBQUM1QyxRQUFJLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLE9BQU8sRUFBTyxDQUFDO0FBQ2hELFFBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBTyxDQUFDO0FBQ3hDLFFBQUksSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLE9BQU8sRUFBUyxDQUFDO0FBQzFDLFFB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QUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFqREEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBaEJBLEFBQUEsQUFIQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFpQkEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBaEJBLEFBQUEsQUFrRUEsQUE5RUEsQUE4RUEsQUFsRUEsQUFrRUEsQUFsRUEsQUFBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGFibGUsIE9wdGlvbmFsLCBJbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xyXG5cclxuaW1wb3J0IHsgREVGQVVMVF9DT05GSUcgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBOR19XSVpBUkRfQ09ORklHX1RPS0VOIH0gZnJvbSAnLi9uZy13aXphcmQtY29uZmlnLnRva2VuJztcclxuaW1wb3J0IHsgTmdXaXphcmRDb25maWcsIFN0ZXBDaGFuZ2VkQXJncyB9IGZyb20gJy4uL3V0aWxzL2ludGVyZmFjZXMnO1xyXG5pbXBvcnQgeyBUSEVNRSB9IGZyb20gJy4uL3V0aWxzL2VudW1zJztcclxuaW1wb3J0IHsgbWVyZ2UgfSBmcm9tICcuLi91dGlscy9mdW5jdGlvbnMnO1xyXG5cclxuQEluamVjdGFibGUoe1xyXG4gIHByb3ZpZGVkSW46ICdyb290J1xyXG59KVxyXG5leHBvcnQgY2xhc3MgTmdXaXphcmREYXRhU2VydmljZSB7XHJcbiAgcmVzZXRXaXphcmQkOiBPYnNlcnZhYmxlPGFueT47XHJcbiAgc2hvd05leHRTdGVwJDogT2JzZXJ2YWJsZTxhbnk+O1xyXG4gIHNob3dQcmV2aW91c1N0ZXAkOiBPYnNlcnZhYmxlPGFueT47XHJcbiAgc2hvd1N0ZXAkOiBPYnNlcnZhYmxlPG51bWJlcj47XHJcbiAgc2V0VGhlbWUkOiBPYnNlcnZhYmxlPFRIRU1FPjtcclxuICBzdGVwQ2hhbmdlZEFyZ3MkOiBPYnNlcnZhYmxlPFN0ZXBDaGFuZ2VkQXJncz47XHJcblxyXG4gIHByaXZhdGUgX3Jlc2V0V2l6YXJkOiBTdWJqZWN0PGFueT47XHJcbiAgcHJpdmF0ZSBfc2hvd05leHRTdGVwOiBTdWJqZWN0PGFueT47XHJcbiAgcHJpdmF0ZSBfc2hvd1ByZXZpb3VzU3RlcDogU3ViamVjdDxhbnk+O1xyXG4gIHByaXZhdGUgX3Nob3dTdGVwOiBTdWJqZWN0PG51bWJlcj47XHJcbiAgcHJpdmF0ZSBfc2V0VGhlbWU6IFN1YmplY3Q8VEhFTUU+O1xyXG4gIHByaXZhdGUgX3N0ZXBDaGFuZ2VkQXJnczogU3ViamVjdDxTdGVwQ2hhbmdlZEFyZ3M+O1xyXG4gIHByaXZhdGUgX2RlZmF1bHRDb25maWc6IE5nV2l6YXJkQ29uZmlnO1xyXG5cclxuICBjb25zdHJ1Y3RvcihAT3B0aW9uYWwoKSBASW5qZWN0KE5HX1dJWkFSRF9DT05GSUdfVE9LRU4pIHByaXZhdGUgY29uZmlnOiBOZ1dpemFyZENvbmZpZykge1xyXG4gICAgdGhpcy5fZGVmYXVsdENvbmZpZyA9IHsgLi4uREVGQVVMVF9DT05GSUcgfTtcclxuICAgIGlmICh0aGlzLmNvbmZpZykge1xyXG4gICAgICB0aGlzLl9kZWZhdWx0Q29uZmlnID0gbWVyZ2UodGhpcy5fZGVmYXVsdENvbmZpZywgdGhpcy5jb25maWcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9ic2VydmFibGUgc291cmNlc1xyXG4gICAgdGhpcy5fcmVzZXRXaXphcmQgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgICB0aGlzLl9zaG93TmV4dFN0ZXAgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgICB0aGlzLl9zaG93UHJldmlvdXNTdGVwID0gbmV3IFN1YmplY3Q8YW55PigpO1xyXG4gICAgdGhpcy5fc2hvd1N0ZXAgPSBuZXcgU3ViamVjdDxhbnk+KCk7XHJcbiAgICB0aGlzLl9zZXRUaGVtZSA9IG5ldyBTdWJqZWN0PFRIRU1FPigpO1xyXG4gICAgdGhpcy5fc3RlcENoYW5nZWRBcmdzID0gbmV3IFN1YmplY3Q8U3RlcENoYW5nZWRBcmdzPigpO1xyXG5cclxuICAgIC8vIE9ic2VydmFibGUgc3RyZWFtc1xyXG4gICAgdGhpcy5yZXNldFdpemFyZCQgPSB0aGlzLl9yZXNldFdpemFyZC5hc09ic2VydmFibGUoKTtcclxuICAgIHRoaXMuc2hvd05leHRTdGVwJCA9IHRoaXMuX3Nob3dOZXh0U3RlcC5hc09ic2VydmFibGUoKTtcclxuICAgIHRoaXMuc2hvd1ByZXZpb3VzU3RlcCQgPSB0aGlzLl9zaG93UHJldmlvdXNTdGVwLmFzT2JzZXJ2YWJsZSgpO1xyXG4gICAgdGhpcy5zaG93U3RlcCQgPSB0aGlzLl9zaG93U3RlcC5hc09ic2VydmFibGUoKTtcclxuICAgIHRoaXMuc2V0VGhlbWUkID0gdGhpcy5fc2V0VGhlbWUuYXNPYnNlcnZhYmxlKCk7XHJcbiAgICB0aGlzLnN0ZXBDaGFuZ2VkQXJncyQgPSB0aGlzLl9zdGVwQ2hhbmdlZEFyZ3MuYXNPYnNlcnZhYmxlKCk7XHJcbiAgfVxyXG5cclxuICBnZXREZWZhdWx0Q29uZmlnKCk6IE5nV2l6YXJkQ29uZmlnIHtcclxuICAgIHJldHVybiB7IC4uLnRoaXMuX2RlZmF1bHRDb25maWcgfTtcclxuICB9XHJcblxyXG4gIHJlc2V0V2l6YXJkKCkge1xyXG4gICAgdGhpcy5fcmVzZXRXaXphcmQubmV4dCgpO1xyXG4gIH1cclxuXHJcbiAgc2hvd05leHRTdGVwKCkge1xyXG4gICAgdGhpcy5fc2hvd05leHRTdGVwLm5leHQoKTtcclxuICB9XHJcblxyXG4gIHNob3dQcmV2aW91c1N0ZXAoKSB7XHJcbiAgICB0aGlzLl9zaG93UHJldmlvdXNTdGVwLm5leHQoKTtcclxuICB9XHJcblxyXG4gIHNob3dTdGVwKGluZGV4OiBudW1iZXIpIHtcclxuICAgIHRoaXMuX3Nob3dTdGVwLm5leHQoaW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgc2V0VGhlbWUodGhlbWU6IFRIRU1FKSB7XHJcbiAgICB0aGlzLl9zZXRUaGVtZS5uZXh0KHRoZW1lKTtcclxuICB9XHJcblxyXG4gIHN0ZXBDaGFuZ2VkKGFyZ3M6IFN0ZXBDaGFuZ2VkQXJncykge1xyXG4gICAgdGhpcy5fc3RlcENoYW5nZWRBcmdzLm5leHQoYXJncyk7XHJcbiAgfVxyXG59XHJcbiJdfQ==